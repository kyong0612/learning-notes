# .clinerules ファイル解説

## 概要

`.clinerules`は、VS Code向けAIコーディングアシスタント「Cline」または「Roo Code」（Clineのフォーク版）によって使用されるプロジェクト設定ファイルです。このファイルは、AIアシスタントにプロジェクト固有のルールやガイドラインを提供し、より的確で一貫性のあるコード生成や提案を実現します。

## Clineとは

Clineは、VS Code内で動作するAIコーディングエージェントで、以下のような機能を提供します：

- 自然言語による指示からのコード生成
- 既存コードの編集・リファクタリング
- コマンドの実行
- ブラウザの操作
- ファイルの作成・編集

Clineは、Anthropic社のClaude、OpenAIのGPT、DeepSeekなどの大規模言語モデル（LLM）を活用して動作します。

## .clinerules の目的と利点

### 目的

- プロジェクト固有のルールやガイドラインをAIに伝える
- チーム全体で一貫した開発体験を提供する
- プロジェクトの「設計書」として機能する

### 利点

- **一貫性の確保**: チームメンバー全員が同じルールに従ってコードを生成・修正
- **効率化**: 繰り返しの説明を避け、AIに一度に指示を与えることが可能
- **知識の共有**: プロジェクトのノウハウや重要事項をコードとして保存・共有
- **エラー防止**: 一般的な間違いや問題を事前に防止するためのガイドラインを提供
- **セキュリティ向上**: 機密情報の取り扱いなどのセキュリティ関連の指示を明示

## .clinerules の基本構成

`.clinerules`ファイルはMarkdown形式で記述され、通常は以下のようなセクションを含みます：

1. **プロジェクト概要**
   - 基本情報
   - 技術スタック
   - プロジェクト構造

2. **コーディングガイドライン**
   - 言語固有のルール
   - コーディング規約
   - 命名規則

3. **セキュリティルール**
   - 機密情報の取り扱い
   - アクセス制御
   - 禁止事項

4. **開発ワークフロー**
   - ブランチ戦略
   - コミット規約
   - レビュープロセス

5. **テスト戦略**
   - テスト種類と対象
   - テスト記述規約

6. **エラー防止とトラブルシューティング**
   - 一般的なミスパターン
   - デバッグ手順
   - 品質チェックリスト

7. **プロジェクト知識ベース**
   - 設計決定とその理由
   - 既知の問題と対処法
   - 技術的負債とロードマップ

## 配置と使用方法

### 配置

`.clinerules`ファイルはプロジェクトのルートディレクトリに配置します：

```
your-project/
├── .clinerules
├── src/
├── docs/
└── ...
```

大規模プロジェクトでは、コンテンツを複数のファイルに分割し、`.clinerules/`ディレクトリに配置することもできます：

```
your-project/
├── .clinerules/
│   ├── frontend.md
│   ├── backend.md
│   ├── security.md
│   └── ...
├── src/
└── ...
```

### 使用方法

1. プロジェクトのルートディレクトリに`.clinerules`ファイルを作成します
2. プロジェクト固有の情報、規約、ガイドラインをMarkdown形式で記述します
3. VS CodeでClineまたはRoo Codeを使用すると、このファイルが自動的に読み込まれます
4. AIアシスタントはこのルールに従ってコード生成や提案を行います

## 効果的な.clinerules作成のためのベストプラクティス

1. **明確な階層構造を使用する**
   - マークダウンの見出しレベル（#, ##, ###）を使って情報を階層化する
   - 関連する情報をセクションとサブセクションにグループ化する

2. **簡潔かつ具体的に記述する**
   - 抽象的な指示よりも具体的な例と明確な指示を提供する
   - 長い文章よりも箇条書きリストを使用する

3. **プロジェクト固有の情報を含める**
   - 一般的なベストプラクティスだけでなく、プロジェクト固有のルールを記述する
   - チーム内の暗黙知や経験則を明文化する

4. **コードサンプルを含める**
   - 推奨パターンのコード例を提供する
   - 避けるべきアンチパターンの例も示す

5. **定期的に更新する**
   - プロジェクトの進化に合わせて`.clinerules`を更新する
   - チームの学びや新しい知見を反映させる

## .clinerules vs カスタム指示

Clineには2種類の指示の仕組みがあります：

1. **カスタム指示（Custom Instructions）**
   - VS Code拡張の設定で設定
   - ユーザー固有の設定
   - すべてのプロジェクトに適用される

2. **.clinerules**
   - プロジェクトのリポジトリに保存
   - プロジェクト固有の設定
   - チーム全体で共有される

両者を組み合わせることで、個人の好みとプロジェクトの要件の両方を満たすAI支援を実現できます。

## 例: 最小限の.clinerules

以下は、最小限の`.clinerules`の例です：

```markdown
# プロジェクト概要

## 技術スタック
- React 18
- TypeScript 5
- Node.js 18
- Express
- MongoDB

## プロジェクト構造
/src
  /components  # Reactコンポーネント
  /pages       # ページコンポーネント
  /api         # APIエンドポイント
  /utils       # ユーティリティ関数
/public        # 静的ファイル

# コーディングガイドライン

## 一般
- コンポーネントはfunctional componentsを使用
- 状態管理にはReact HooksとContext APIを使用
- APIリクエストはサービスレイヤーに集約

## 命名規則
- コンポーネント: PascalCase
- 関数: camelCase
- 定数: UPPER_SNAKE_CASE
- ファイル名はコンポーネント名と同じにする
```

## 参考資料

- [Cline公式ドキュメント](https://github.com/cline/cline)
- [Roo Code公式ドキュメント](https://github.com/RooVetGit/Roo-Code)
- [Cline Prompting Guide](https://github.com/cline/cline/blob/main/docs/prompting/README.md)
- [AI開発エージェント入門](https://zenn.dev/berry_blog/articles/c72564d4d89926)

---

この README は、`.clinerules`ファイルの基本的な概念と使用方法を説明したものです。プロジェクト固有のニーズに合わせてこの情報をカスタマイズして、AIコーディングアシスタントとより効果的に連携しましょう。
