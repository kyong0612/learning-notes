# The Making of Claude Plays Pokémon

ref: <https://www.youtube.com/watch?v=CXhYDOvgpuU>

## トランスクリプト要約

AnthropicのAlex氏とDavid氏による対談形式の動画。Claude（Anthropicの言語モデル）にゲームボーイ版『ポケットモンスター 赤』をプレイさせる実験「Claude Plays Pokemon」について解説。

### 企画の背景と目的

* **開発経緯**: David氏が顧客との仕事を通じてAIエージェントの重要性を認識し、Claudeが人間との対話なしに連続的なアクションを実行する能力をテストするための実験場として企画。過去に社内で同様の試みがあったこと、David氏自身のポケモンへの思い入れ、そしてClaude 3.5 Sonnetの登場がきっかけとなった (01:17-02:18)。
* **なぜポケモンか**: ターンベースの戦闘や移動システムにより、モデルが思考する時間的猶予があるため、言語モデルの処理速度に適している。ジムバッジ獲得など、ゲーム進行度が明確なフィードバックとなり、モデルの成功度を測りやすい (02:18-03:50)。同期性が求められるゲーム（例: Call of Duty）は現状困難 (03:50-04:19)。
* **目的**: ポケモンをクリアすること自体ではなく、Claudeがどのように学習し、問題を解決していくのか、その能力と限界を理解すること。答えを与えるのではなく、Claude自身に答えを見つけさせるプロセスを観察することが重要 (12:49-13:26)。モデルの購入決定要因としてではなく、あくまで内部的な理解促進のため (13:26-13:40)。

### 技術的仕組み

* **基本**: Claudeに「あなたはポケモンをプレイしています」と指示。ツールとしてゲームボーイのボタン操作（A, B, 上下左右など）を提供 (04:19-04:54)。
* **フィードバックループ**: Claudeがボタンを押す → スクリーンショットがClaudeに送られる → Claudeが画面を見て次の行動（ボタン操作）を決定 → 繰り返し (05:11-05:51)。
* **課題: メモリ制限**: Claudeのコンテキストウィンドウ（約20万トークン）は、約50回のボタン操作＋スクリーンショットで埋まってしまう。そのままではゲーム開始直後に限界が来る (07:31-07:51)。
* **解決策**: 業界で一般的なエージェント構築のアプローチ（例: Voyager論文）を参考にしつつ、独自のシンプルな方法を実装 (06:30-07:31)。
  * **長期記憶**: Claudeが「知識ベース」（プレーンテキストファイルのようなもの）に現在の状況、目標、学習した戦略などを書き出す。これにより、コンテキストがリセットされても情報を保持できる（映画『メメント』のメモに例えられる）(08:21, 09:09-09:58)。
  * **要約**: コンテキストがいっぱいになると、Claudeは直近のアクション履歴（例: 50回分）を短い要約に圧縮し、詳細な履歴を削除してスペースを確保する (08:38-09:09)。

### Claudeの学習と進化

* **事前知識**: ポケモンに関する特別な事前学習は行われていない。Web上の情報から得た一般的な知識（ポップカルチャーレベル、一部のゲーム構造）はあるが、具体的な攻略法は知らない。むしろ誤った知識を持っていることもある (10:22-11:01)。
* **学習プロセス**: NPCとの会話、看板、画面表示など、ゲーム内の情報から試行錯誤を通じて学習する。例：母親の「オーキド博士は隣にいる」という（ゲーム内の）嘘を信じ込み、隣の家を探し続ける (11:01-12:32)。人間のプレイヤーのように、純粋なプレイ体験を通じて学んでいく (12:32-12:49)。
* **モデルの進化**: 各モデルバージョンでのプレイ能力の向上は顕著。
  * **Claude 3.5 Sonnet (初期, 2024年6月頃)**: 最初の部屋の階段を見つけるのに3日かかるレベル。家から出るのがやっと (14:01-14:36)。
  * **Claude 3.5 Sonnet (リフレッシュ版, 2023年10月)**: 安定して階段を発見し、最初のポケモンを入手、バトルに勝利するなど進歩が見られた。ランダム操作よりは若干マシという程度 (14:36-15:49)。
  * **Claude 3.7 Sonnet**: 大幅な性能向上。開発者のコードのバグ（ナビゲーションに必要な情報が表示されない）があっても以前のモデルより良い結果を示した。ジムリーダーを倒すなど、実質的なゲームプレイが可能に。Twitchストリームで見られるレベル (15:49-17:09)。
* **性能向上の要因**: 驚くべきことに、視覚認識能力（ゲーム画面の理解度）はあまり向上していない (17:27-17:47)。向上したのは以下の点：
  * **戦略立案能力**: より良い計画を立てる能力。
  * **試行錯誤と学習**: 過去の戦略を疑い、別の戦略を試す能力。失敗から学び、次に何を試すべきかを考える粘り強さ (17:47-18:34)。
  * **自己修正能力**: 状況に応じて計画を修正し、新しい情報を取り込む能力 (18:34-19:04)。

### 他タスクへの応用と教訓

* **汎用的なスキル**: ポケモンプレイで向上した「計画→実行→評価→修正」のループは、コーディング（テスト失敗からの修正）、情報検索（検索結果の評価と再検索）、ToDoリスト管理など、多くの実世界のタスクに応用可能 (19:29-21:14)。
* **エージェント開発のアプローチ**: 全てを予測して複雑なプロンプトを作るのではなく、シンプルな状態で動かし、失敗を観察し、Claudeが状況を理解するために必要な最小限の情報（例: ステップ数、経過時間）を追加で与える方が効果的 (29:55-32:08, 33:06-33:36)。Claudeの限界（例: 時間感覚がない）を理解し、それを補う情報を設計することが重要 (31:23-31:52)。

### 面白い失敗例と限界

* **視覚認識と時間感覚**: ドアマットをダイアログボックスと誤認し、8時間Aボタンを押し続ける（視覚認識の誤り＋時間経過の認識不足）(23:41-24:58)。
* **行動制御と結果予測**: 新しい技を覚える際にAボタンを連打しすぎ、唯一の攻撃技を誤って削除（行動の勢い、破壊的な結果への配慮不足、ツールの限界への無自覚）(25:23-26:46)。
* **ナビゲーションとメタ認知**: おつきみ山（複雑な迷路）で出口まであと15歩のところで迷子になり、「あなぬけのヒモ」で入口に戻る（空間認識能力の低さ、自己の能力限界へのメタ認知不足）(27:06-29:34)。

### 公開後の反響

* **経緯**: Claude 3.7 Sonnetでの性能向上が顕著になり、社内で注目。モデルの長期的な計画・実行能力を示す良い事例として、ローンチに合わせて公開を決定 (34:16-35:29)。ベンチマークグラフ、Twitchストリーム、ブログ記事などを展開 (35:29-36:12)。
* **反響**: 予想以上の人気。Twitchは常時数千人が視聴、Subreddit、ミーム、ファンアート、歌なども登場。チャットは協力的でポジティブな雰囲気 (37:07-38:33)。
* **意義**: AIに詳しくない人々にも「エージェント」とは何かを具体的に示す機会となった。単なるチャットボットではなく、自律的に試行錯誤し、目標に向かって行動するAIの可能性を示唆 (38:33-39:50)。

### その他

* **Claudeの好きなポケモン**: 戦略的に有利なフシギダネを好む傾向。レアなピカチュウやかせきポケモンも積極的に狙う (41:23-42:13)。
* **開発者へのアドバイス**: 技術的な詳細よりも、まず自分が楽しいと思えるプロジェクトから始めることが重要。Claudeと対話し、その能力や限界を体験的に理解することが、効果的なエージェント構築の基盤となる (42:13-44:15)。
