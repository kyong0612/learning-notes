---
title: "SnowflakeからBigQueryへ。アソビューがDWHを統合した意思決定の背景と展望"
source: "https://tech.asoview.co.jp/entry/dataaisummit25"
author:
  - "kiri-maru"
published: 2025-12-24
created: 2026-01-08
description: "2025年11月、Google Cloud 主催『Data & AI Summit '25 Fall』に登壇させていただきました。本記事では、登壇資料をベースに、口頭で話した内容や話しきれなかった内容を補足しながら、アソビューがデータ基盤のアーキテクチャを再設計するに至った意思決定の裏側を共有します。"
tags:
  - GCP
  - データ基盤
  - Google Cloud
  - Looker
  - BigQuery
  - Snowflake
  - DWH
  - AI活用
---

## はじめに

Google Cloud 主催『Data & AI Summit '25 Fall』での登壇内容をベースに、アソビューがデータ基盤のアーキテクチャを再設計するに至った意思決定の裏側を解説した記事。

**基本思想**: データ基盤とそのアーキテクチャに関しては**スクラップアンドビルドが重要**。モダンデータスタックに代表されるように、データ基盤ではパズルのようにアーキテクチャを選択していくことが可能で、その時々の最善の選択やアップデートが重要。

---

## アソビューのデータ活用の現在地と課題

### 2022年から構築してきたデータ基盤の変遷

アソビューでは2022年からデータ基盤の構築を開始。

#### 初期構成（構築スピード重視）

![初期構成図](https://cdn-ak.f.st-hatena.com/images/fotolife/k/kiri-maru/20251224/20251224094742.png)

**重視したポイント：構築スピード**

- **TROCCO**: 日本企業向けの豊富なコネクターと日本語サポートがあり、ETLサービスとして素早くデータ投入を実現
- **BigQuery**: GA4のデータが既にBigQueryに存在していたため、そのまま採用

#### SnowflakePoCの開始

運用を進める中でBigQueryのコスト・パフォーマンスに課題が生じ、SnowflakeのPoCを実施。

![構成図2](https://cdn-ak.f.st-hatena.com/images/fotolife/k/kiri-maru/20251224/20251224094747.png)

**課題**: 2つのDWHを運用していくのは難しく、どちらかのDWH製品にデータを寄せていく必要が出てきた。

---

### アーキテクチャの意思決定の指針: データ基盤のROI

アソビューの意思決定で**最も重要な要素はROI**。

#### データ基盤は「移動・保存・可視化」すべてにお金がかかる

| コスト項目 | 説明 |
|-----------|------|
| **データ移動** | 様々なデータを一緒に分析するためには移動が必要。データ量が増えるほどコスト増加 |
| **データ保存** | 貯めているだけでは意味がなく、長期運用でデータが増えるほどコスト増加 |
| **可視化** | クエリ実行にもお金がかかり、BIツールにも費用が発生 |

#### 事業価値（アクション）が出るまでのリードタイムが長い

```
データ基盤構築 → ダッシュボード作成 → インサイト獲得 → アクション → 価値創出
```

**重要な認識**: データ活用は価値を生む反面、ROIを意識できていないと、ただお金を垂れ流すだけになる。

---

### 目指す姿：「早く・安く・うまい」基盤への転換

| 指針 | 説明 |
|------|------|
| **早く** | データ基盤の構築をできるだけ早くし、リードタイムを短縮 |
| **安く** | 費用を削減することでROIを上げる |
| **うまい** | 事業価値のあるデータ、お金を生む行動に近いデータを優先的に扱う |

**これからの時代のキーポイント**: AIの活用

- 生成AIがSQL生成やインサイト抽出をサポート
- 非エンジニアでも直接データからアクションを生み出せるようになる
- **「コストの最適化」と「アクションの最大化」**が次の意思決定の重要ポイント

---

## なぜ Snowflake ではなく BigQuery だったのか

コスト最適化の観点では、多くの検証とこれまでの実績を通じて、どちらも十分に最適化できる結果となった。

**決め手となったポイント**: AIの活用によるアクションの最大化

- Lookerの導入
- Google Cloudのエコシステム全体の親和性

### AI Readyな基盤にするために

#### Lookerを選んだ理由：「セマンティックレイヤー（意味定義層）」としての評価

**LookMLの特徴：**

- ビジネス指標やロジックをSQLの中に埋もれさせず、Git管理可能なコードとして定義
- カラムの意味を日本語で定義することで、誰でも分かる状態を作れる
- **誰でも分かる状態 = AIにとっても利用しやすい基盤**

**Google Cloudエコシステムの利点：**

- データ（BigQuery）とAI（Vertex AI/Gemini）が物理的に近い場所にある
- シームレスな連携でAI活用のハードルを劇的に下げる
- データ転送料金も抑えられる

![構成図3](https://cdn-ak.f.st-hatena.com/images/fotolife/k/kiri-maru/20251224/20251224094828.png)

---

### 利用用途による差別化：TableauとLookerの共存

現時点ではTableauとLookerを**利用用途で差別化**する方針。

| ツール | 用途 | 特徴 |
|--------|------|------|
| **Tableau** | データ探索 | 自由度が高く、アドホックな分析に適している |
| **Looker** | モニタリング・レポーティング | セマンティックレイヤーとしての機能を重視。クエリの予測が立てやすく改善しやすい |

**Lookerのメリット**: セマンティックレイヤーを通したクエリは予測が立てやすく、BIからのクエリの不確実性が減るため、クエリ料金を抑えられる。

---

## データ活用にAIを使っていくことで目指す先

### 現状の課題

- 専門知識を持つ人がダッシュボードを作る「人海戦術」
- TableauコミュニティのDATA Saberを通じて約20人が自分で分析できる環境を構築
- しかし、それでも人数は限られ、**全社に広げることは難しい状況**

### AIによる解決

生成AIがSQL生成やインサイト抽出をサポートすることで：

- データ分析の専門知識がないメンバーでもインサイトを得やすい環境を実現
- データ分析の輪が全社に広がる

---

### エンジニアの役割の変化

| Before | After |
|--------|-------|
| 依頼されてデータやダッシュボードを作る（**1の価値**） | AIが自走できる環境（LookMLやパイプライン）を整備する（**10〜100の価値**） |

**レバレッジの効果**:

- カラム1個追加、dbtのモデル改善などの作業
- 従来：ボトルネックの人を経由して生んでいた価値 = **1**
- AI活用後：アクションの数が**10にも100にも**なり得る

---

### 社外への価値提供

**目標**: アソビューのプラットフォームを通じて、遊び・体験を提供する事業者様への価値拡大

- IT企業でもデータ分析は難しくデータ活用には課題がある
- 事業者様にも同様の課題が存在
- **Lookerと生成AIを活用**して、社内だけでなく事業者様へも直接インサイトを提供できる可能性

---

## 重要な結論・発見

1. **ROI重視のアーキテクチャ選定**: データ基盤はコストがかかる構造であり、「早く・安く・うまい」という指針が重要

2. **BigQuery選定の決め手**: コスト面ではSnowflakeと同等だが、Google Cloudエコシステム全体での**AI活用のしやすさ**が決定打

3. **セマンティックレイヤーの重要性**: Lookerを単なるBIツールではなく「意味定義層」として活用することで、人間にもAIにも利用しやすい基盤を構築

4. **エンジニアの役割シフト**: 作業者から「AIが自走できる環境を整備する」役割へ変化し、レバレッジの効く価値創出が可能に

5. **データ基盤の価値拡大**: 社内利用から事業者様への価値提供へと展開し、データ基盤の価値を10倍、100倍にする展望

---

## 参考リンク

- [登壇資料（Speaker Deck）](https://speakerdeck.com/kirimaru/data-and-ai-summit-25-fall-aitetetahuo-yong-wojin-hua-saseru-google-cloudtezuo-rutetahuo-yong-nowei-lai)
- [Data & AI Summit '25 Fall](https://cloudonair.withgoogle.com/events/data-ai-summit-25f)
- [コスト最適化に関する詳細記事1](https://tech.asoview.co.jp/entry/2025/11/05/112353)
- [コスト最適化に関する詳細記事2](https://tech.asoview.co.jp/entry/2025/12/12/100000)
- [アソビュー エンジニア採用](https://www.asoview.co.jp/career/engineer)
