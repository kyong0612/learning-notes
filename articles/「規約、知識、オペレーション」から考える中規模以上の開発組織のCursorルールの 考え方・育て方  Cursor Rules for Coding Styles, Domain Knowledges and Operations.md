---
title: "「規約、知識、オペレーション」から考える中規模以上の開発組織のCursorルールの 考え方・育て方 / Cursor Rules for Coding Styles, Domain Knowledges and Operations"
source: "https://speakerdeck.com/yuitosato/cursor-rules-for-coding-styles-domain-knowledges-and-operations"
author:
  - "佐藤有斗（YuitoSato）"
published: 2025-06-18
created: 2025-06-18
description: |
  中規模以上の開発組織において、AIエージェントであるCursorを自律的に開発させるための「Cursorルール」の考え方と育て方を解説。ルールを「コーディング規約」「ドメイン知識」「オペレーション」の3つに分類し、それぞれの役割と作成方法を詳述。特に、ルールの品質を評価し継続的に改善するための「ファイル復元方式トレーニング」という実践的な手法を提案する。
tags:
  - "AI開発"
  - "Cursor"
  - "AIエージェント"
  - "開発組織"
  - "ルール設計"
  - "DevEx"
  - "プロンプトエンジニアリング"
---

本資料は、中規模以上の開発組織でAIエージェント「Cursor」を効果的に活用し、自律的な開発を実現するための「Cursorルール」の考え方と育成方法について解説します。

## 1. はじめに: AI駆動開発へのシフト

「プログラミングの終わり」とは、AIエージェントと協力して開発を行う「AI駆動開発」の始まりを意味します。この新しい開発スタイルでは、AIがその能力を最大限に発揮できる環境を整えること、すなわち**「AIのオンボーディング」**が極めて重要になります。

これは、開発チームが持つ暗黙知（ドメイン知識や開発経験）を、AIが理解し活用できる形式、つまり**「Cursorルール」として言語化・構造化する**ことを意味します。

![Slide 18](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_17.jpg)
![Slide 20](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_19.jpg)

## 2. なぜCursorルールを整備するのか

Cursorルールを整備する目的は、Cursorを単なる「ペアプログラミングツール」として使うのではなく、**自律的にタスクを遂行する「AIエージェント」**として機能させるためです。

ルールが整備されていれば、人間は**「What（何をしたいか）」という目的を指示するだけ**で、その実現方法である**「How（どうやるか）」をAIに完全に任せる**ことが可能になります。最終的な目標は、人間一人が複数のAIエージェントをマネジメントし、開発をスケールさせる体制を構築することです。

![Slide 26](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_25.jpg)

## 3. 良いCursorルールとは

良いCursorルールとは、以下の条件を満たすものです。

- プロンプトを「What（やりたいこと）」の指示だけに限定できる。
- AIが生成したコードが、そのプロダクトにおいて「綺麗」とされる基準を満たしている。
- 人間が意識せずとも、Cursorが状況に応じて適切なルールを自動で選択し、適用できる。

![Slide 36](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_35.jpg)

## 4. 3つのCursorルール

効果的なルールを設計するために、ルールを以下の3つのカテゴリに分類して管理します。

1. **コーディング規約 (Coding Rules)**
2. **ドメイン知識 (Domain Knowledge)**
3. **オペレーション (Operations)**

![Slide 43](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_42.jpg)

### 4.1. コーディング規約

**目的**: 「How（実装の詳細）」を都度指示することなく、プロダクトの標準に準拠した高品質なコードをAIに出力させるためのルールです。

**作成のポイント**:

- アーキテクチャのレイヤー別、実装シーン別にルールを細分化します。（例: `application-layer/write-usecase/test.mdc`）
- Few-shotプロンプティングの考えに基づき、**具体的な実装例（サンプルコード）を豊富に含める**ことが非常に効果的です。

![Slide 53](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_52.jpg)

### 4.2. ドメイン知識

**目的**: 「What（やりたいこと）」の背景にあるドメイン固有のコンテキストや仕様をAIに提供し、指示の曖昧さをなくすためのルールです。

**考察**:

- 理想的には、ドメイン駆動設計（DDD）が実践され、**コード自体が仕様を雄弁に物語る状態**であれば、ドメイン知識ルールの必要性は低下します。AIはコードを読んで多くを理解できます。
- 将来的には、「Agent Rules as Domain Parser」のように、ソースコードからドメイン知識ルールを自動生成するアプローチが有望です。

![Slide 67](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_66.jpg)

### 4.3. オペレーション

**目的**: 実装の前後に発生する定型的な作業（ルーチンワーク）を自動化するためのルールです。

**具体例**:

- **コンパイルとLint**: 「実装後は必ずコンパイルとLintを実行する」といったルール。`alwaysApply`設定を推奨。
- **Git操作**: ブランチの命名規則やプルリクエストのテンプレート適用。
- **テスト**: テストに使用するアカウント情報や、E2Eテストの実行方法（例: Playwright MCPの利用）。

![Slide 71](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_70.jpg)

## 5. ルールの評価と育て方: ファイル復元方式トレーニング

ルールの有効性を評価し、継続的に改善するための実践的な手法として「ファイル復元方式トレーニング」を提案します。

**手順**:

1. **お手本ファイルの削除**: プロジェクト内にある「良いコード」のお手本となるファイルを一つ選び、削除してコミットします。
2. **最小限のプロンプトで指示**: Cursorに対し、削除したファイルを復元するよう、「What」のみを記述した最小限のプロンプトで指示します。
3. **差分比較**: 復元されたファイルと元のお手本ファイルを比較します（`git diff`）。
4. **ルールの改善**: 差分が生まれた原因を分析し、それがなくなるように既存のルールを修正したり、新しいルール（特に実装例）を追加したりします。
5. **ループ**: 差分がなくなるまでこのプロセスを繰り返します。

このトレーニングを通じて、AIエージェントの自律性を高めるためのルールを着実に育てていくことができます。

![Slide 95](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_94.jpg)

## 6. まとめと未来予想

- **AIエージェントの活用**: Cursorを自律的なAIエージェントとして活用するには、「規約」「知識」「オペレーション」の3つの観点からルールを整備することが不可欠です。
- **ルールの育成**: 「ファイル復元方式トレーニング」は、ルールの品質を客観的に評価し、継続的に改善するための強力な手法です。
- **未来**: AIエージェントを効果的にマネジメントするスキルが、エンジニアリングにおける圧倒的な競争優位性を生み出します。将来的には、一人のエンジニアがAIエージェント群を率い、手作り開発では不可能なスピードでプロダクトを創出する時代が到来するでしょう。

![Slide 114](https://files.speakerdeck.com/presentations/75587a506f1040809bc5b0b31f2bde90/slide_113.jpg)
