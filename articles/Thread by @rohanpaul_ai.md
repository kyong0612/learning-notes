---
title: "Thread by @rohanpaul_ai"
source: "https://x.com/rohanpaul_ai/status/1958590112197222732"
author:
  - "[[@rohanpaul_ai]]"
published: 2025-08-22
created: 2025-08-23
description:
tags:
  - "clippings"
  - "コンテキストエンジニアリング"
---

このスレッドは、Anthropic社による「コンテキストエンジニアリング」のガイドを紹介しています。AIモデルに対して高い精度と信頼性を引き出すためのプロンプト設計のベストプラクティスが、具体例とともに解説されています。

まず、安定したコンテキスト（背景情報や前提条件）を最初に提示し、モデルに対して明確な指示と具体的な例を与えます。その後、現在のタスクや質問を再度明示し、モデルが論理的に考察できるよう促した上で、厳密な出力フォーマットを要求することが推奨されています。

## プロンプト設計のベストプラクティス

詳細なポイントは以下の通りです。

1. **タスクの文脈を明示する**: モデルの役割、ドメイン、重要な成果を指定します。例えば「あなたはスウェーデンの自動車保険請求担当者を支援しています」と明記することで、モデルの判断を正しい方向に誘導します。
2. **トーンや振る舞いを指定する**: 「事実ベースで、証拠が明確な時だけ自信を持ち、不明な場合は曖昧さを認める」といった指示により、モデルの推測や創作を防ぎます。
3. **不変の背景データを提供する**: フォームの説明や画像例など、変化しない資料を事前に提供し、毎回同じ情報を繰り返す必要をなくします。
4. **詳細な指示を明確にする**: タスクの詳細な説明や手順、ルールを明確にし、モデルが段階的に処理できるようにします。
5. **具体的な事例（Few-shot）を提示する**: モデルの判断基準を揃えるため、画像や分析例を含む具体的な事例を示し、より正確な模倣を可能にします。
6. **会話履歴を管理する**: 必要な場合のみ、ユーザーの過去の指示や会話履歴を含め、文脈を保ちつつ冗長さを防ぎます。
7. **タスクを再掲する**: 長いコンテキストの後に、必ず現在の質問やタスクを再掲し、モデルの焦点を明確にします。
8. **段階的な思考を促す**: 「ステップバイステップで考える」よう促すことで、複雑な判断の精度を高めます。Claudeの拡張思考モードでは、思考トークン予算の割り当ても可能です。
9. **厳密な出力フォーマットを指定する**: XMLタグやJSON形式など、出力フォーマットを厳密に指定し、解析やデータ連携を容易にします。必要に応じて、返答の冒頭を定型タグで始めさせることで、出力形式を強制できます。
10. **プロンプトを構造化する**: プロンプト全体を明確なセクションやタグで構造化し、モデルが情報、指示、事例を混同しないようにします。

## まとめ

これらの手法を組み合わせることで、モデルの出力の一貫性と信頼性が向上します。実際のデモでも、誤った推測から正確な判断への改善が確認されており、Anthropic社の「Code w/ Claude」プレゼンテーションでもこれらのポイントが強調されています。
