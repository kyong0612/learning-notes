# Unixドメインソケット

ref: <https://ascii.jp/elem/000/001/415/1415088/>

- **Unixドメインソケットの概要**: Unixドメインソケットは、POSIX準拠のオペレーティングシステムが提供する機能で、同じコンピューター内でのプロセス間通信を高速に行うことができます。これはTCP/UDPソケットのように外部ネットワークに接続するものとは異なります。
- **Windowsとの比較**: WindowsはネイティブにはUnixドメインソケットをサポートしていませんが、同様の機能として名前付きパイプを提供しています。
- **通信方式**: 従来のソケット通信がIPアドレスとポート番号を使うのに対し、Unixドメインソケットはファイルシステムのパスを使ってコネクションを確立します。
- **ファイルシステムとの連携**: サーバープロセスが開始されると、指定されたファイルシステムの場所にソケットファイルが作成され、クライアントはそのファイルパスに接続します。
- **特殊なソケットファイル**: 作成されるソケットファイルは、プロセス間の高速通信を可能にする特殊なタイプのファイルで、通常のファイルとは異なります。
- **Goでの実装**: このドキュメントでは、Goを使ったUnixドメインソケットの実装例を示しています。TCPソケットと同様の方法で、ソケットタイプに"unix"を使います。
- **ソケットのクリーンアップ**: ソケットファイルは使用後も残り続けるため、適切に閉じられない場合は手動で削除する必要があります。特にGoでは注意が必要です。
- **サーバーとクライアントのコード例**: ドキュメントにはUnixドメインソケットのサーバーとクライアントの詳細なコード例が含まれており、それらの設定と通信方法が示されています。
- **データグラムソケットの使用**: ドキュメントでは、ストリーム型ソケットとは対照的な、データグラム型のUnixドメインソケット("unixgram"プロトコル)の使用方法も説明しています。
- **エラー処理とアドレス解決**: データグラムコンテキストでメッセージの送受信を行う際は、アドレス解決と適切なソケット初期化が重要であり、エラーに注意する必要があることが強調されています。
