---
title: "コンストラクタによる初期化 - Martin Fowler's Bliki (ja)"
source: "https://bliki-ja.github.io/ConstructorInitialization"
author:
  - "Martin Fowler"
published: 2006-02-07
created: 2025-10-17
description: |
  オブジェクトの初期化方法の一つであるコンストラクタによる初期化について説明。生成メソッドに必要なコラボレータをすべて渡し、常に妥当な状態のオブジェクトを作る方法。セッターによる初期化との比較や、イミュータブルな属性と更新可能な属性の区別についても解説。
tags:
  - "API design"
  - "オブジェクト指向"
  - "初期化"
  - "設計パターン"
  - "コンストラクタ"
---

## 概要

コンストラクタによる初期化は、新しいオブジェクトを初期化する2つの主要な方法のひとつです（もうひとつは[セッターによる初期化](/SetterInitialization)）。この方法では、生成メソッドに必要なコラボレータをすべて渡して、常に妥当な状態のオブジェクトを作ることを目指します。

## コンストラクタによる初期化の特徴

### 基本的な使い方

```ruby
mf = Person.new('martin', 'fowler',
                ['Turners Oyster Bar', 'Square and Compass'])
```

### 主な利点

1. **常に整った状態のオブジェクト**: すぐに使える妥当な状態のオブジェクトを常に得ることができる
2. **コンパクトな記述**: ワンライナーでオブジェクトを生成でき、1行で済むことが多い
3. **明示的な依存関係**: コンストラクタで必要なコラボレータを宣言することで、クラスの扱い方が明確になる
4. **イミュータビリティの表現**: イミュータブルな属性とミュータブルな属性を区別できる（イミュータブルな属性はセッターメソッドが存在しない）

### 設計の推奨

Martin Fowlerは、最初にコンストラクタによる初期化を検討し、それが難しい場合にセッターによる初期化を使用することを推奨しています。コンストラクタによる初期化がベストプラクティスとされています。

## よくある疑問と回答

### Q1: オブジェクトを作成する正しい組み合わせがいくつもある場合は？

**A:** コンストラクタが大量に必要になるという懸念はよく聞かれますが、実際にはごく稀なケースです。本当に必要なコラボレータだけを配置すればよく、その他の組み合わせは滅多に使われません。

### Q2: コンストラクタに渡すコラボレータが多数ある場合は？

**A:** コンストラクタのパラメータが多いのは[コードの臭い](/CodeSmell)です。この場合、パラメータを[DataClump](/DataClump)として認識し、オブジェクトに置き換えるべきです。コンストラクタは[DataClump](/DataClump)を発見する良い場所となります。

### Q3: [ContextualValidation](/ContextualValidation)とどう併用する？

**A:** ここでの文脈は、オブジェクトの基本的な使用です。つまり、使い物になる状態であればそれで十分です。他の様々なアクティビティに使うには妥当でなくとも、基本的に使える程度には妥当であるべきです。

## 関連概念

- **セッターによる初期化**: コンストラクタによる初期化が難しい場合の代替手段
- **コードの臭い**: 設計上の問題を示唆するパターン
- **DataClump**: 一緒に現れることが多いパラメータのグループ
- **ContextualValidation**: 文脈に応じた検証

## 参考情報

- オリジナル記事: [Constructor Initialization by Martin Fowler](https://martinfowler.com/bliki/ConstructorInitialization.html)
- 翻訳: [bliki-ja](https://github.com/bliki-ja)
- 発行日: 2006年2月7日
