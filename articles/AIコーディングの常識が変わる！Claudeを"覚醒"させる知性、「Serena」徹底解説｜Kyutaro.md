---
title: "AIコーディングの常識が変わる！Claudeを\"覚醒\"させる知性、「Serena」徹底解説｜Kyutaro"
source: "https://note.com/kyutaro15/n/n61a8825fe303"
author:
  - "Kyutaro"
published: 2025-07-29
created: 2025-07-31
description: |
  本記事では、AIコーディングの効率を劇的に向上させるツール「Serena」を解説します。Serenaは、AI（特にClaude）がプロジェクトコードの意味や構造を深く理解するための「通訳者」として機能し、トークン消費の削減、応答速度と精度の向上を実現します。その仕組み、導入効果、具体的な設定方法までを分かりやすく紹介します。
tags:
  - "AI"
  - "Claude"
  - "Serena"
  - "AI-Coding"
  - "MCP"
  - "LSP"
---
![見出し画像](https://assets.st-note.com/production/uploads/images/205122974/rectangle_large_type_2_ce1858183180980f2a8f41fea60c088f.png?width=1200)

この記事では、AIを使ったコーディングにおける一般的な課題を解決し、開発体験を革新するツール「Serena」について詳しく解説します。

## 1. Serenaとは？ なぜ必要なのか？

Serenaは、**AI（特にClaude）にプロジェクトコードを深く理解させるための賢い通訳者**です。Anthropic社が提唱するMCP (Model Context Protocol)という規格を利用したツールで、AIとの連携を前提としています。

従来のAIコーディングでは、AIがコードを単なるテキストとして扱うため、以下のような問題が発生しがちでした。

* **トークンの大量消費**: 大きなファイルを読み込むたびにコストがかさむ。
* **低い文脈理解**: コードの全体像や依存関係を把握できず、的外れな修正を行う。
* **意図しない副作用**: 一つの修正が別のバグを生む。

Serenaは、プロジェクトのコードに対して非常に優秀な「目次」と「索引」を自動で作成します。これにより、AIは必要なコード箇所に瞬時にアクセスできるようになり、トークン消費を劇的に削減し、処理速度と精度を飛躍的に向上させます。

## 2. Serenaがもたらす革命的な変化

| 特徴 | 😱 Before Serena（従来） | ✨ After Serena（導入後） |
| :--- | :--- | :--- |
| **コスト** | トークンを大量に消費 | 関連箇所のみを読み、トークンを劇的に削減 |
| **理解度** | コードの構造を理解できず、修正が的を射ない | コードを「意味」で理解し、人間のような指示が可能（セマンティック検索） |
| **正確性** | 一つの修正が新たな問題を引き起こす可能性 | コードの依存関係を理解し、副作用を最小限に抑制 |
| **速度** | コード全体を読むためレスポンスが遅い | 必要な情報に即座にアクセスでき、超高速レスポンス |

## 3. Serenaの仕組み

Serenaの賢さは、主に2つの技術に基づいています。

1. **LSP (Language Server Protocol)**
    * 様々なプログラミング言語の構文や構造を解析するための標準技術。
    * これにより、Serenaはコードを「関数」「変数」「クラス」といった意味のある塊（シンボル）として認識します。
2. **プロジェクトのオンボーディング（初期読み込み）**
    * プロジェクトで初めて使用する際に、全ファイルをスキャンして関数やファイルの関連情報をまとめた「メモリファイル（索引）」を作成します。
    * このスキャンは初回のみで、以降はこの索引を参照するため、AIは瞬時にプロジェクトの全体像を把握できます。
    * **この処理はローカルPC上で完結するため、コードが外部に送信されることはなく安全です。**

## 4. 実践的な使用例：CSSの修正

**依頼**: 「ウェブサイトの背景が薄いピンクで文字が白だから読みにくい！文字を黒にして！」

* **従来のやり方**: AIはCSSファイル全体を読み、`color: white` を探して変更しようとしますが、関係ない部分まで変更したり、CSSの優先順位を理解できず失敗することがあります。
* **Serenaを使ったやり方**:
    1. ClaudeがSerenaに「このセクションの担当コードはどこ？」と質問します。
    2. Serenaは索引を元に「`styles.css`の253行目にある`.hero-section p`です」と**関連コードだけをピンポイントでClaudeに渡します。**
    3. Claudeは的確な情報に基づき、完璧な修正案を提案します。

結果として、トークン消費は最小限に抑えられ、修正は迅速かつ正確に行われます。

## 5. Serenaの導入ステップ

導入は簡単な3ステップで完了します。

1. **Step 1: ClaudeにSerenaを紹介する**
    * コマンドラインで以下のコマンドを実行し、ClaudeにSerenaをアシスタントとして追加します。

        ```cs
        claude mcp add serena -- uvx --from git+https://github.com/oraios/serena serena-mcp-server --context ide-assistant --project $(pwd)
        ```

2. **Step 2: プロジェクトの初期スキャン**
    * Claudeのチャットで以下のコマンドを実行し、Serenaにプロジェクトの「索引」を作成させます。

        ```cs
        /mcp__serena__initial_instructions
        ```

3. **Step 3: 利用開始**
    * 準備は完了です。いつも通りClaudeに話しかけるだけで、裏側でSerenaが連携して的確なサポートを提供してくれます。

## まとめ：AIコーディングの新しい地平

Serenaは、AIを単なる「お手伝いさん」から、プロジェクトを深く理解する「**信頼できるパートナー**」へと進化させる画期的なツールです。

* ✅ **ピンポイントの精度**でコードを修正
* ✅ **驚異的なコスト効率**でトークン消費を削減
* ✅ **ストレスフリーな速度**で開発時間を短縮
* ✅ **深い文脈理解**でプロジェクトの全体像を把握

Serenaを活用することで、開発者は煩雑な作業から解放され、より創造的な「アイデアを形にする」作業に集中できるようになります。

---

### 参考リンク

* **Serena GitHub Repository**: [https://github.com/oraios/serena](https://github.com/oraios/serena)
