# Observability & Engineering Management, with Charity Majors

ref: <https://kubernetespodcast.com/episode/230-observability_engmgmt/>

## エピソード概要

- ホスト: Kaslin Fields、Abdel Sghiouar
- ゲスト: Charity Majors（honeycomb.io共同創設者兼CTO）
- 主なテーマ:
- 観測性（Observability）の進化とその重要性
- エンジニアリングマネジメント
- ブログ執筆のアドバイス

## ニュースセグメント

1. Vitess 20リリース

- CNCF認定プロジェクト。
- Kubernetes Operator 2.13もリリース。
- スケーラビリティとパフォーマンスを基盤に、使いやすさと機能の成熟に注力。

2. Claude 3.5 Sonnet（Anthropic）

- Claude 3.5モデルファミリーの初リリース。
- コスト: 入力トークン100万あたり$3、出力トークン100万あたり$15。
- 200,000トークンのコンテキストウィンドウを提供。

3. KubeCon/CloudNativeCon India

- 初開催（2024年12月、デリー）。
- 講演応募は8月25日まで。

4. Azure Container Registry

- OCI（Open Container Initiative）バージョン1.1.0をサポート。
- 非コンテナアーティファクトのパッケージ化、保存、配布、関係性の照会が可能に。

5. VMware Tanzu Greenplum 2.7

- データ分析とAI推進を向上させる新リリース。
- パフォーマンス強化、最適化、エコシステム拡張を含む。

6. Adobe CNCFエコシステムへの貢献

- 2015年以降46以上のプロジェクトに関与。
- エンジニアリングチームの強化を支援。

## ゲスト紹介: Charity Majors

- 略歴:
- Parse（Facebookに買収）、Facebook、Linden Lab（「Second Life」開発）で分散システムを構築・運用。
- O’Reilly出版「Observability Engineering」「Database Reliability Engineering」の共著者。
- 表現の自由、オープンソースソフトウェア、シングルモルトスコッチ愛好家。

## エンジニアリングマネジメントの重要性

 1. マネジメントへの誤解

- 多くの人が「権威」「指示」「管理」と関連づけて考えがち。
- マネジメントは「階層」ではなく「システムを機能させるための役割」。

 2. 管理とリーダーシップの違い

- リーダーシップはキャリアが進むにつれて誰もが求められるスキル。
- リーダーシップは個人の成長や価値観と密接に関係。

 3. 「下を見ると機能、上を見ると意味」

- マネージャーの役割は、チームを他のチームや組織とつなぐ神経系。
- エンジニアリングは創造的職業のため、権威よりサポートが重要。

 4. バーンアウト防止

- バーンアウトは「働きすぎ」よりも「仕事に意味を見出せない」時に起こりやすい。
- マネージャーはチームメンバーが興味を持つ仕事を見つける手助けをすべき。

## 観測性（Observability）の進化

### 観測性2.0についての詳細

 1. 観測性2.0とは

- 「単一の真実の源泉（Single Source of Truth）」としてデータを扱う新しいアプローチ。
- 文脈を失わず、構造化データを保存し、あらゆる質問に対応可能。
- 「デバッグツール」ではなく、「開発の基盤」としての役割を担う。

 2. 観測性1.0との違い

## 観測性1.0 観測性2.0

データが分散し、文脈を失う 単一のデータソースで文脈を保つ
データを記録する時点で集約・スキーマを定義 生データを保存し、必要に応じて集約（遅延集約）
メトリクス、ログ、トレーシングの3本柱に依存 任意の構造化データを一貫して処理
手動でのデバッグが中心 ツールがパターンや異常を自動的に特定
高コストで非効率（データが複数のツールに分散） コスト効率が良く、より効果的

 3. 観測性2.0の特徴

- 遅延集約（Aggregation at Read Time）: 質問時にデータを集約し、柔軟なクエリを可能にする。
- 高い探索性: 「BubbleUp」機能を活用し、異常箇所の詳細な文脈を分析。
- データの文脈保持: 「データは文脈によって価値を持つ」という考えを実現。

 4. 利点

- デバッグ効率の向上: 異常の迅速な特定と修正。
- 観測性駆動開発: フィードバックループの短縮により、迅速かつ高品質な開発を実現。

 5. 「BubbleUp」機能

- 異常部分を選択するだけで、関連データを自動分析。
- 問題箇所の特定を数分で実現し、エンジニアの好奇心を促進。

## ブログ執筆のアドバイス

 1. トークとブログを相互活用

- カンファレンスのトークをブログ記事に変換、またはその逆を活用する。

 2. 情熱を優先

- オリジナルであるかどうかを気にせず、自分が興味を持つことを書く。
- 情熱が伝われば、読む人にとって価値のある内容になる。

 3. 権威の必要性

- 専門家である必要はなく、自分の経験を共有するだけで価値がある。

 4. 簡潔さ

- 短い記事の方が良い場合が多い。ただし、情熱があれば長くても読者に響く。

## まとめ

- 観測性は技術の未来を変える重要な要素であり、開発や運用を効率化する基盤。
- エンジニアリングマネジメントはキャリアの成長に不可欠で、組織全体の健全性に寄与する。
- ブログは、自分の興味を世界と共有する強力な手段。

---

[音楽が流れる]

KASLIN FIELDS: 今週は、Charity Majorsさんとのお話です。Charityさんは、honeycomb.ioの共同創設者兼CTOであり、モダンな観測性の概念を先駆的に導入した方です。今回のエピソードでは、観測性、エンジニアリングマネジメント、ブログ執筆について深く掘り下げます。でもまずはニュースから始めましょう。

ABDEL SGHIOUAR: Vitessは、データベースインスタンスの大規模なクラスターをデプロイ、スケール、管理するためのCNCF認定プロジェクトです。6月27日に、Vitess 20のリリースとKubernetesオペレーターのバージョン2.13が発表されました。バージョン20では、既存機能の使いやすさと成熟度に焦点を当て、スケーラビリティとパフォーマンスの堅固な基盤をさらに強化しています。

KASLIN FIELDS: 6月20日にAnthropicがClaude 3.5 Sonnetをリリースしました。これはClaude 3.5モデルファミリーの最初のリリースです。このモデルは、入力トークン100万あたり3ドル、出力トークン100万あたり15ドルのコストで提供され、200,000トークンのコンテキストウィンドウを備えています。

ABDEL SGHIOUAR: KubeConおよびCloudNativeCon Indiaの講演応募受付が8月25日までオープンしています。今年初めて、KubeConがインドで開催されます。このイベントは12月11日と12日にデリーで行われます。講演に興味がある方は、ぜひ応募をお忘れなく。

KASLIN FIELDS: Azureは、Open Container Initiative（OCI）バージョン1.1.0仕様への対応を発表しました。これにより、Azure Container Registry（ACR）のユーザーは、コンテナイメージとアーティファクトの関係を確立し、非コンテナアーティファクトをパッケージ化、保存、配布できるようになり、アーティファクトの関係性を発見および照会できるようになります。

ABDEL SGHIOUAR: VMware Tanzuがバージョン2.7 Greenplumを発表しました。このリリースは、データ分析とAI主導の取り組みを向上させることを目的としています。バージョン2.7では、パフォーマンス向上、最適化機能、エコシステム拡張など、さまざまな新機能が導入されました。また、TanzuチームはCloud Foundry向けGenAIプラットフォームのパブリックベータ版も発表しました。

KASLIN FIELDS: 6月20日、Adobeがエンドユーザージャーニーレポートを発表しました。このレポートでは、AdobeのCNCFエコシステムへの貢献を取り上げています。2015年以降、46を超えるプロジェクトに関与しており、この取り組みがエンジニアリングチームをどのように強化したかを説明しています。そして、これが今回のニュースです。

[音楽が流れる]

KASLIN FIELDS: 本日は、Charity Majorsさんをお迎えできることを大変光栄に思います。Charityさんはhoneycomb.ioの共同創設者兼CTOであり、Parse（Facebookに買収されました）、その後FacebookやLinden Lab（「Second Life」を開発）で大規模な分散システムを構築・管理した経験を持ち、モダンな観測性の概念を提唱しました。

彼女は、O’Reilly出版の「Observability Engineering」と「Database Reliability Engineering」の共著者でもあります。また、彼女は表現の自由、オープンソースソフトウェア、そしてシングルモルトスコッチが大好きです。Charityさん、ようこそ。

CHARITY MAJORS: お招きいただきありがとうございます。長い紹介でしたね（笑）。

KASLIN FIELDS: はい（笑）。

CHARITY MAJORS: 自分のバイオがこんなに長いなんて、改めて聞くと「おおっ」と思います。短くするべきですね。

KASLIN FIELDS: 確かに。でも、紹介を全部読むのは私の趣味なんです。とても素晴らしい内容なので。

[笑い声]

CHARITY MAJORS: まあ、ありがとうございます。

KASLIN FIELDS: 今日は番組にお越しいただけて本当にうれしいです。以前からソーシャルメディアでフォローさせていただいていて、大ファンなんです。特にあなたのブログ投稿が大好きです。多くのブログが観測性に関する内容なのは当然として—

CHARITY MAJORS: そうですね、かなり多いですね。

KASLIN FIELDS: —エンジニアリングマネジメントについても多く書かれていますよね。そこで今日は、その両方についてお話を伺いたいと思います。まずはエンジニアリングマネジメントから始めましょう。

CHARITY MAJORS: いいですね。

KASLIN FIELDS: たぶん、リスナーの中には「マネージャーになるつもりもないし、エンジニアリングマネジメントのアドバイスなんて興味ない」という方もいるかもしれません。でも、私の哲学では、マネージャーになる道を選ぼうが選ばまいが、必ず自分の上にマネージャーがいるわけなので、誰にとってもエンジニアリングマネジメントを少し学ぶことは有益だと思っています。だから、今日この番組を聞いている皆さんにも、Charityさんのお話から何か得られるものがあると思っています。私自身もあなたのブログを読むたびに多くの学びがあります。

CHARITY MAJORS: 私は、マネジメントという言葉にはいろいろな重荷がついていると感じています。たとえば、「階層」「指示されること」「管理されること」といったイメージがつきまといますよね。この言葉自体が少し大げさなんです。そして、多くの人々のマネジメントに対する考え方は、工業時代の影響を受けています。8時間労働制やそのほかの概念は、現代のものにうまく適応していない部分があります。

エンジニアリングを真剣に考えるなら、マネジメントにも関心を持つべきだと思います。そして、マネジメントはリーダーシップとは同じではありません。リーダーシップはキャリアが進むにつれて誰もが身につけるべきものであり、それは個人としての自分自身と非常に深く結びついています。つまり、どのようなリーダーになるかは「自分が成長したらどんな人間になりたいか」という問いと直結しているのです。

私が言いたいのは、「これをどうすれば本当にうまくできるのか？」という包括的な視点で考えることが重要だということです。そして、「この役割に何が求められているのか？」ということも同時に考えます。多くの人が最初は「自分がマネージャーになるなんて思ってもみなかった」と言います。でも、彼らがこういったことを考え始めると、ある瞬間が訪れ、「あれ、自分がこの仕事に最適な人間だ」と気づいたり、場合によっては「ほかに誰もやれる人がいない」という状況に出くわしたりします。

私自身は少しアナーキーな性格で、上司に対してあまり敬意を抱いたことがありません（笑）。組織図で自分の上にいる人は「自分がやっつける対象」と考えてしまうところがあります。でも、マネジメントというものを権威としてではなく、システムがどのように機能するかという観点から見るようになってから、少しずつ考え方が変わりました。

システム理論を見てみると、自己組織化されたシステムではどこにでも階層が現れることがわかります。そして、階層においては「下を見ると機能があり、上を見ると意味がある」という考え方が成り立ちます。これは組織をスケールさせる唯一の方法です。なぜなら、全員が全員と話すことはできないからです。それは効率的ではありません。

コードをモジュール化する際、内部の接続がより効率的で高速であることを考えますよね。抽象化があるおかげでそれが可能になります。チームの機能も同様です。チームには使命とチャーターがあり、マネージャーは神経系のような役割を果たして他のチームやチャーターとつなぐ存在です。

エンジニアリングのような創造的な職業では、権威や階層をこの役割に過度に押し付けることは実際には非常に不健康です。組織図を逆さまにして、マネージャーの役割を「サポートする立場」として見るほうが自然なのです。私、たくさん話しすぎましたね。このまま話し続けられますけど、一旦ここで息をつきます（笑）。まとめると、あなたが言った通りです。自分がマネージャーであろうとなかろうと、マネジメントについて考えるのは重要だと思います。

KASLIN FIELDS: まさにその通りだと思います。私も強くそう感じています。だからこそ、ここでひとつ取り上げたいのが、さっきあなたがおっしゃった「下を見ると機能、上を見ると意味がある」という考え方です。これ、多くの人に響くと思います。

CHARITY MAJORS: 素晴らしい表現ですよね。この考え方にたどり着いたきっかけは、ある友人がエンジニアリングリーダーとしてひどい経験をしたことでした。彼はある会社にVPとして採用され、30人のエンジニアを管理することになったのですが、マネージャーが一人もいなかったんです。彼の上司は「うちはスタートアップだからマネージャーはいらない。全員が直接君に報告すればいい」と言っていたんです。友人は「ああ、これは無理だ」と感じ、深刻な危機感を抱いていました。この根本的な問題について、どう考えたらいいのか、という話になったんです。

そこで私は「なぜ人々にはマネージャーが必要なのか」というブログ記事を書きました。答えは非常に複雑で、システム理論やその他の多くの要素に関連します。でも、シンプルな答えもあります。それは「エンジニアリングマネージャーというパターンが機能するということがわかっている」という点です。この役割に合った人を採用し、適切なトレーニングを受けさせることができます。

つまり、自社の中核となる機能ではないものについて、なぜ深く考え直したり、再発明したりする必要があるのでしょうか？ 会社にとってそれが中核的なものではないなら、「退屈な技術」や「退屈な社会システム」を使えばいいのです。

KASLIN FIELDS: 「上を見て意味を見出す」という考え方は、個人貢献者（Individual Contributor）がマネージャーとうまく連携する方法についても多くを語っていると思います。あなたが言っていたのは、マネージャーはサポートシステムであるべきで、エンジニアが成長するための適切な機会を提供する役割を果たすべきだ、ということですね。そしてそれは、エンジニアが正しい方向でビジネスを成長させるための仕事をしているかどうかを確実にすることにもつながります。これはマネージャーだけでなく、部下としてどう「マネジメントをうまく使うか」という視点にも役立つ話ですね。

CHARITY MAJORS: そうですね。若い頃は、ビジネスに興味を持つのは「かっこ悪い」と思っていました。みんな「技術だけが重要だ」と言っていました。でも、Daniel Pinkが言うように、「私たちが仕事から得たいものは自律性、熟達、そして意味」です。そして、人々が使わない仕事にどんな意味があるでしょう？ 会社の成長を助けない仕事にどんな意味があるでしょう？ 私たちは業界として成熟しつつあり、「ビジネスに関心を持つことはクールだ」と気づき始めています。

KASLIN FIELDS: そうですね。この話は、今日取り上げるとは思っていなかったトピックに触れますが、やはり仕事の中で何らかの意味を見出すことが重要です。そうしなければ、それは直接バーンアウトにつながると思います。ですから、これはとても重要なポイントですね。

CHARITY MAJORS: そうです。私が人生の中でバーンアウトに近づいたことがあるのは、実は最も忙しく働いていたときではありません。むしろ、最も働いていなかったときのことです。でも、そのような時期に共通していたのは、「自分のやっていることが本当に違いを生んでいると感じられなかった」ことです。あるいは、「こんな仕事、やる必要がないのではないか」と感じたり、周囲の人が「君は素晴らしい」と言ってくれるけれど、実際には「1日1時間しか働いていない」という状況だったりしました。そんな時期には、「この業界は自分に合っているのだろうか」と思ったものです。

一方で、人生の中で最も充実した仕事の瞬間は、最もハードに働いていた時期でもあります。それは、自分がその状況に深く関わり、熱意を持っていたからです。バーンアウトについて考えるとき、これは階層や権威とも関連しています。他人から「こうしなければならない」と指示される場合、それは間違いなくバーンアウトの原因になります。

しかし、自分自身の中から動機が湧き出ていて、「これは自分の一部だ、これを大切にしたい」と感じられるなら、それは素晴らしい兆候です。もちろん、ペース配分を考える必要はありますし、休むことも大事ですが、その状態は「燃えている」ようなものです。

KASLIN FIELDS: その考え方は、現在エンジニアリングポジションで働いているすべての人に深く関わる核心的な概念のように感じます。それでは、もしかするとここで一つアドバイスをお願いしても良いでしょうか？今日リスナーの中にエンジニアリングマネージャーやIC（個人貢献者）の方がいらっしゃるとして、チームメンバーが自分の仕事に対してもっと所有感を持ち、投資したいと感じるようにするために、どんなアドバイスをお持ちですか？

CHARITY MAJORS: 一律的にアドバイスをするのは難しいところがあります。なぜなら、それはキャリアの段階によって大きく変わるからです。キャリアの最初の5～7年間は、多くの場合、他人の指示に従って仕事をすることが多いですが、それでいいのです。それは、彼らがあなたの最善を考えているからです。この期間は、熟練したソフトウェアエンジニアになるための見習い期間なのです。

しかし、それ以降は、自分が取り組む仕事に関心を持つことが重要になってきます。私がすべての技術者に与えたい最大のアドバイスは、マネジメントの役割が非常に速いペースで変化しているということと、エンジニアリングの分野自体が非常に速いペースで変化しているということです。そして、「自分のアイデンティティをマネージャーやエンジニアとしてあまりにも強く結び付けない」ということです。

私が考える最強のエンジニアリングマネージャーは、コードを書いてから4～5年以内の経験を持っています。つまり、再び技術スキルを磨き直すために現場に戻るべきです。そして、私が知っている中で最も優れたシニアICたちも、全員マネジメント経験を持っています。なぜなら、多くのスキルは「ソシオテクニカル（技術と人間の関係性）」なものだからです。それらは技術に基づいていますが、人や組織、ビジネススキルを加えることで成り立っています。

「自分を技術者として考える」ことが、長く充実したキャリアを築く鍵だと思います。特に、若い頃にマネージャーに「昇進」することは魅力的です。というのも、人生を通じて「指示される側」だった人が、「ついに指示する側になれる」と感じるからです。しかし、それは実際にはそうではありません。

[笑い声]

早い段階でマネージャーになり、それに強く依存してしまう人がいます。でも、業界は変化します。エンジニアリングマネージャーとして10年、20年キャリアを積むのは非常に難しく、時代についていけない人になる危険があります。そうなると、自分のチームを最善の形でサポートできず、チームメンバーからの尊敬も失ってしまうかもしれません。

だから、私のベストアドバイスはこれです。「自分を技術者と考えること」。そして、「キャリアは長いものだ」と考えること。私にとって最高の機会というのは、ほとんどが偶然のものです。「10年後にこれになりたい」と計画したものではありません。選択肢を広げ、自分を面白い場所に置くことで、何が起こるかはわからないのです。

KASLIN FIELDS: 素晴らしいですね。それでは、これを観測性の話題にうまくつなげていきたいと思います。あなたは観測性という概念が現代において進化する過程に深く関わってきましたよね。それはきっと、あなたにとっても何かの「偶然の瞬間」だったのでは？

CHARITY MAJORS: そうなんです。私は「怒り駆動開発」に特化しているようなところがあります（笑）。データベースが嫌いで、結局自分がそれを運用する役割を引き受けることになるんです。そしてモニタリングやグラフ、すべてが嫌い。でも、なぜかこれらが私が書いた本のテーマになっています（笑）。

CHARITY MAJORS: 嫌うことは情熱の一種です。無関心こそが、愛や嫌悪の反対かもしれません。愛と嫌悪はとても密接につながっています。でも、2016年にChristine（共同創設者）と一緒にHoneycombを始めたとき、観測性という概念はまだ広く知られていませんでした。

実際、「観測性（Observability）」という言葉は制御システム理論から借りたものです。その定義は、「出力を観察するだけでシステムの内部構造を理解できるかどうか」です。その定義を読んだとき、まさに「これだ！」とひらめきました。

最初の数年間は、「これが観測性です。高いカーディナリティ、高次元性、探索性、広いイベント構造などが必要です」と説明して回っていました。でも2019年から2020年頃に注目され始め、突然、世の中のあらゆる人が「私たちも観測性をやっています！」と言い始めました。モニタリング、ログ、トレーシング、APM、RUMなど、みんなが「私たちも観測性を提供しています」と主張するようになったのです。

それは私たちにとって少し驚きでした。最近では、観測性を「保守性」「信頼性」「パフォーマンス」と同様に、複雑なシステムの特性の一つと考えています。これにより、ツールよりもシステムそのものに焦点を当てることができます。この視点がとても気に入っています。

しかし、それには大きな問いが残ります。それは、観測性の「1.0」の世界と「2.0」の世界には大きなステップの違いがあるということです。「1.0」の世界では、メトリクス、ログ、トレーシングという3本柱があり、データはRUMツール、プロファイリングツール、ログツール、メトリクスツール、ダッシュボードツールなど、複数のツールに保存されます。そしてエンジニアは、その中心で「これがあの形に似ているかな」とグラフの形状を見比べたり、「このログラインをコピーしてトレースツールに貼り付けてみよう」といった作業をしています。

このやり方は高価で扱いにくく、エンジニアが熟練すれば効果的な場合もありますが、このモデルは自然なライフサイクルの終わりに差し掛かっていると感じます。

KASLIN FIELDS: 「観測性2.0」というのはどのようなものですか？

CHARITY MAJORS: 「2.0」のツールは、単一の真実の源泉（Single Source of Truth）を持っています。任意の幅を持つ構造化データブロブを保存し、インデックスやスキーマを使わず、メトリクスを事前定義する必要もありません。どんな種類のデータでも投げ込むことができ、各リクエストや各スパンごとに広い構造化ログイベントを生成し、バックエンドで探索可能にします。

これにより、データはビジネスインテリジェンスツールのように扱えます。スライス＆ダイス、ズームイン＆ズームアウトが可能で、文脈を持つことでデータは価値を持ちます。「1.0」の問題は、文脈がツール間で散らばっていて、つながりがないことです。しかし、「2.0」ではすべてがつながっています。データは単なるデータ構造として扱えるのです。タグやカーディナリティ、カウンターのような問題を気にする必要もありません。

このシンプルさが「2.0」の大きな特徴です。

KASLIN FIELDS: システム自体が観測性を定義するという考え方、とても興味深いですね。この考え方をテクノロジー以外のシステムにも当てはめて考えてみました。例えば、銀行口座の管理とか、どの口座にどれだけの資金があり、それがどのように投資されているのかなどを把握したいと思うのは自然なことです。また、私の場合は、クローゼットの観測性を向上させるためのアプリを作ろうとしています。服が多すぎて、自分が何を持っているのか把握できていないんです（笑）。

どちらの場合も、システムに関する疑問に答えようとしている点では同じです。技術的な観測性と同じように、これもシステムに関する疑問を解決しようとしているわけです。

CHARITY MAJORS: その通りです。こうしたシステムの違いが生む社会的・技術的な波及効果は計り知れません。しかし、私が特に気に入っている点の一つは、「観測性1.0」の世界では、最も深くシステムを理解しているのはいつも、そのチームに最も長く在籍している人たちだということです。彼らは過去の障害を乗り越え、多くのコードを書いてきた経験があります。

しかし、新しいチームに参加したばかりの人が、それらの「ベテランたち」に追いつくのはほぼ不可能です。「観測性2.0」の世界では、そうではありません。直感的な飛躍や過去の記憶に頼らずとも、ツールにデータと文脈が存在しており、自分が知りたいことを質問すれば答えが得られるのです。

ですから、「観測性2.0」の世界では、最も優れたデバッガーは、最も好奇心が強い人たちです。日々の変更を確認し、ツールを使い慣れている人たちが最も効率的に問題を解決できます。私自身、昔はこうした新しいツールを使い始めるのが遅い方でした。Facebookにいた頃、NagiosやGangliaを使いこなしていて、「これさえあれば十分だ」と思っていました。

しかし、ある時、数人のエンジニアがデータセットを新しいツール（Scuba）に入れ始め、彼らが私よりも早く問題をデバッグしているのを見て愕然としました。「どうやってそんなことをしているんだ？」と思いましたね（笑）。

でも、それは本当にエキサイティングなことです。コードベースを新しく触る人でも、10年以上そのコードに取り組んでいる人が理解できなかったことを見つけたり理解したりできる。それが「観測性2.0」の力です。

KASLIN FIELDS: 「文脈がデータを価値あるものにする」というあなたの言葉がすごく響きます。これこそが観測性の本質ですね。

CHARITY MAJORS: そうです。データアイランド（孤立したデータ）には価値がありません。他のデータとつながるほど、そのデータは価値を持つのです。

KASLIN FIELDS: それが観測性の中核ですね。ただ単にデータを持つだけではなく、そのデータに文脈があることで、質問に答えやすくなる。従来のツールの問題は、データが増え続けるけれども、それを理解するための文脈が不足している点にありますよね。目指すべきは、文脈を持ったデータを使って質問に答える仕組みを構築することです。

CHARITY MAJORS: まさにその通りです。

CHARITY MAJORS: 多くの従来のツールでは、メトリクスが中心となっています。そして、メトリクスというのは基本的にただの数値です。その数値に付随する文脈は、データを記録する段階で取り除かれてしまいます。一度失われた文脈は二度と取り戻せません。そのため、異なるダッシュボードの形状を見比べて、「おそらくこれとこれが同じものだろう」と推測するしかないわけです。でも、それをつなげる手段はない。つまり、データを収集する段階で、それらを分断してしまっているんです。

「このメトリクスはここに」「あのメトリクスはあそこに」。それぞれが独立して存在し、つながることはありません。結局は推測に頼るしかない。それが2024年になってもまだ一般的な状況だというのは驚きですよね。私たちは依然として、文脈のない膨大なデータを高額で保存しています。

KASLIN FIELDS: Kubernetesのログについて話しているエンジニアたちと最近話したのですが、これも似たような問題ですね。Kubernetesのログは、アプリケーション、コンテナ、Kubernetesそのものと、さまざまなレベルで生成されます。そして、エラーが上位レベルで発生しても、それだけでは何が問題なのかがわからない。深いレベルまで掘り下げる必要があるんです。文脈があれば、どこからそのエラーが発生したのかをつなげられるので、問題をデバッグしやすくなりますね。

CHARITY MAJORS: その通りです。

KASLIN FIELDS: つまり、これがHoneycombで取り組んでいる課題ですね。Honeycombがこの問題にどう対応しているのか教えていただけますか？

CHARITY MAJORS: Honeycombは、「観測性2.0」の仕様に合わせて設計されたツールです。私たちはOpenTelemetryが大好きですが、データがどのように送られてくるかについては基本的に中立的です。APIに構造化データが届けば、それを受け入れます。

特にトレース（追跡）が重要です。ただし、トレースツールの最初の数世代はユーザーにとって非常に扱いにくいものでした。そのため、どの組織でも、トレースツールを導入した後、2～3年経つと、そのツールを使用するのは設定した人たちだけで、一般のエンジニアは「トレースが必要なら、あの人に聞いて」と頼るようになります。これは非常に不便で隔離された状況です。

Honeycombは、幅広く構造化されたデータブロブを受け取り、これを生のイベントとして保存します。「1.0」の世界では、データを記録する時点で集計を行い、どの質問に答えることができるかを事前に決めていました。しかしHoneycombでは、生の広いイベントを保存し、読み出し時に集計を行うことで、あらゆる質問に答えられるようにしています。

また、これだけではありません。機械に分析を依頼することも可能です。たとえば私が大好きな機能「BubbleUp」があります。この機能は、グラフやダッシュボード、SLO（サービスレベル目標）のどれであっても、興味のある部分を丸で囲むだけで、その内側のデータと外側の基準値を比較し、すべての次元で違いを示してくれます。

「このスパイクは何だろう？」と思ったら、すぐに「このスパイク内のイベントは、Androidデバイスからのものが多く、特定の言語パック、ビルドID、アプリケーションID、機能フラグを使っています」といった情報が得られます。

多くのデバッグでは「これは何だろう？ なぜこれが重要なのか？」という疑問を解決する必要があります。そして従来の手法では、質問をする前に答えを知っている必要がありましたが、「観測性2.0」ではその必要がありません。

CHARITY MAJORS: デバッグのワークフローにおいて、ほとんどの場合は2つのシナリオに収束します。

1つ目のシナリオは、SLO（サービスレベル目標）が予想以上に早く悪化している場合です。この場合、「このSLOを違反しているイベントと、基準値のイベントとでは何が異なるのか」をすぐに分析する必要があります。そして、分析結果が分かれば、「ここを修正すれば良い」とすぐに次の行動に移れます。

2つ目のシナリオは、コードに何らかの変更を加えた場合です。「1.0」と「2.0」のもう一つの大きな違いは、「観測性1.0」が主に問題のデバッグや修正、運用にフォーカスしていたのに対し、「2.0」は観測性を開発自体の基盤として活用する点です。

これにより、非常に短いフィードバックループを形成することが可能になります。コードにインストルメント（観測のためのコード）を追加し、それをデプロイしたらすぐに、「自分が書いたインストルメントを通してシステムがどのように見えるのか」「予期した通りに動作しているのか」「他に何かおかしいところがあるのか」を確認します。この時点が、問題を発見するための最良の機会です。

KASLIN FIELDS: これは、Google Cloud Nextの基調講演で紹介されていた内容に通じますよね。その中で、観測性駆動開発の例を示していましたよね。また、ソーシャルメディアでも、観測性駆動開発を活用したエピソードを投稿されているのを拝見しました。

CHARITY MAJORS: そうなんです。バグを発見し修正するコストは、コードが書かれた瞬間から指数関数的に増加します。デプロイ直後に問題を見つけられなければ、それを発見するのは自分ではなく、ユーザーや顧客、あるいは別のエンジニアになる可能性が高いです。時には数か月、数年後になることもありますし、永遠に見つからないこともあります。

ですから、フィードバックループを迅速に確立することが重要です。また、それがエンジニアリングを楽しいものにします。コードと対話し続けられることで、自信を持って迅速に動けるのです。「金曜日にデプロイすべきかどうか」という議論がありますが、これは多くの場合、恐怖心から来ています。

多くの場面で、デプロイしたものが本当に機能しているかどうか分からない、何がページング（障害通知）を引き起こすか分からないという不安があります。自信を持てない理由は、「観測性1.0」のツールが提供するデータが集約されたものであり、具体的な例を得ることができないからです。

これに対して、「2.0」の世界では、デプロイ後すぐに自分が何を変更したのか、そしてそれがシステム全体にどのような影響を与えたのかを確認できるため、まったく違う安心感があります。これは、コードの開発とデプロイのあり方そのものを根本的に変えるものだと思います。

KASLIN FIELDS: 「観測性2.0」というのは、エンジニアが自分のコードに魅了され、フィールドに出た後もその動作を観察し続けるという考え方に通じますね。そして、もしそのツールが十分に整備されていれば、エンジニアは自分の変更に関する質問をすぐに投げかけ、答えを得られる。みんな質問はしているけれど、多くの場合、その答えを得ることができない状況が続いているのかもしれません。

CHARITY MAJORS: まさにその通りです。しかも、多くの場合、エンジニアたちは自分の好奇心を抑え込まざるを得ない状況にいます。例えば、新人エンジニアがオンコールに入ると最初は好奇心旺盛で、「これ何？」「あれは何？」と質問しますよね。でも、周りの人たちは「いや、その石を持ち上げるのはやめておけ」と止めることが多い。

CHARITY MAJORS: 「その石を持ち上げると長くて曲がりくねった道に迷い込むぞ。5日後には何も達成できていないと感じるだろうから、やめておけ」と言うんです。でも、それは最悪のアプローチですよね。

KASLIN FIELDS: その結果、いろいろな奇妙な場所に迷い込んでしまい、痛みと苦しみだけが待っている。

CHARITY MAJORS: その通りです。現在、多くの分散システムが、さまざまな形で壊れています。それは一般的な状況です。非常に興味深いのは、私たちが顧客とのPOC（概念実証）を行う際によく起こることです。私たちが顧客と一緒にインストルメンテーションを書いていると、Honeycombのセールスエンジニアが「ここで何かおかしなことが起こっていませんか？」と言い始めます。

数分後には誰かがページングされ、「どうやってそれを見つけたの？」と驚かれることがよくあります。時には「これを修正しなければならない」となることもありますが、セールスエンジニアは「いや、今はPOCを進める必要があるので、気にしないでください。それらの問題はずっと前から壊れたまま放置されてきました」と言うこともあります。それらの問題は実際には長い間存在していたのです。ただ、それを見る手段がなかっただけです。

そのような状況を見るととても満足感があります。そして、自分の仕事に自信を持てるというのは素晴らしいことです。

KASLIN FIELDS: この話を聞いて、データベースに関するあなたの本がどのように関連しているのか、とても興味が湧いてきました。ちょうど今日、データベースに関するミーティングがあるので、この話題がそこで出てきそうな気がします。

CHARITY MAJORS: あなたにぜひリンクを送ります。私たちの元社員の一人が、データベースの内部構造とそれが観測性にどう関連するかについて、素晴らしいエッセイを2つ書いています。内容が非常に明確で、私の両親でさえ理解できるくらい分かりやすいもので、とても楽しく読めると思いますよ。

KASLIN FIELDS: ぜひ教えてください！ショーノートにそのリンクを載せたいです。

CHARITY MAJORS: はい、ぜひ載せてください。楽しんでいただけると思います。

KASLIN FIELDS: これでそろそろ話をまとめる時間ですが、本当に興味深いお話ばかりで、まるで新しい扉を開けたような気分です。観測性というのは、私が人生のさまざまなシステムで求めているものだと感じました。

CHARITY MAJORS: そうです！みんなが自分の生活を理解したいと思うのは、当然のことですよね。

KASLIN FIELDS: ですから、「観測性2.0」の概念についてもっと学びたいと思います。それは、システムを観察し学ぶことへの情熱を引き出してくれるものですね。

CHARITY MAJORS: その通りです。それは合理的な要求です。誰もが自分の生活を理解したいと願っています。

KASLIN FIELDS: とても興味深いです。この概念をもっと深掘りするのが楽しみです。ただ、最後にもう一つだけ質問させてください。私、あなたのブログの大ファンなんです。いつもCoffeeOpsのイベントに参加すると、ブログ執筆の話題を持ち出すんですが、いつも多くの人がそのテーマを話したがります。ブログ執筆について何かアドバイスはありますか？

CHARITY MAJORS: もちろんです。私は「月に1回ブログを書く」という目標を立てているのですが、実際に達成したことはありません（笑）。

KASLIN FIELDS: 共感できます（笑）。

CHARITY MAJORS: でも、目標を立てること自体は大切です。簡単なアドバイスとしては、もしカンファレンスでトークをしたなら、それをブログ記事に転用することです。実際、ブログのリーチは最高のトークよりも広がります。検索に引っかかりますし、リンクもされます。また、すでにトークのために素材を準備しているので、ブログにするのは比較的簡単です。逆に、良いブログ記事を書いたなら、それをトークに変換するのも簡単です。

もう一つのアドバイスは、多くの人が「これがオリジナルな内容かどうか」「すでに他の誰かが話しているかどうか」「誰かがこれに興味を持つだろうか」と考えすぎてしまうことです。でも、もし自分が興味を持っているなら、それを書いてください。興味や情熱が伝わるのが重要なんです。誰も「これが前に話されたことがあるかどうか」なんて気にしません。

最も効果的なメッセージは、多くの人々に影響を与えるもので、何度も繰り返し話されるものです。ですから、自分もそのテーマに加わることで「これが私にとっても重要です」と示すことができます。それによって、自分が大切にしていることが広がり、成長していきます。

また、自分が権威ある存在である必要はありません。自分の経験の中での権威として話すことができます。そして、自分の経験が心に残っているなら、それは他の人にも響く可能性があります。全員に響く必要はありません。同じような経験をしている他の人に響けば、それで十分です。

私が好きなトークや文章の多くは、自分がよく知っているテーマについて書かれたものです。それでも、誰かの新しい視点や初めての体験を読むのはとても楽しいです。これらのテーマは常に学ばれるものであり、永続的な価値があります。ですから、「何を書くべきか」と悩むよりも、「自分が何に興味を持ち、何が心に残っているか」を考えて、それを書きましょう。また、短い方が長いよりも良いことが多いです。このアドバイスは自分では実践できていませんが（笑）。

KASLIN FIELDS: あなたのブログ記事は確かに長いですが、読むのが楽しくて一気に読んでしまいます。私は普段、長いブログを読むのが苦手ですが、あなたの記事はそう感じません。それだけ面白くて、情熱が伝わってくるからだと思います。

この会話全体を通じて感じたのは、「興味」や「情熱」が鍵であるということです。エンジニアリングマネジメントについても、自分の仕事に対する興味や情熱を持つことが重要だと話していました。観測性の話題でも、観察し、学び、システムへの興味を引き出すことが大事だと言っていました。そして、ブログ執筆についても、それを世界と共有するという点で同じだと思います。

CHARITY MAJORS: その通りです。本当に素敵なまとめですね。

KASLIN FIELDS: トークやブログ、または何かを作る際、最も良いコンテンツは、自分が本当に興味を持っているテーマについて作ったものです。それが何であれ、何度話されたテーマであっても、情熱があれば、それが最も興味深いものになりますよね。

CHARITY MAJORS: その通りです。完全に同意します。

KASLIN FIELDS: 素晴らしいです。本当にありがとうございました、Charityさん。冒頭でもお伝えしましたが、あなたとお話できるなんて本当に光栄です。あなたの活動が大好きですし、これからの活動も楽しみにしています。

CHARITY MAJORS: こちらこそ、呼んでいただきありがとうございました。本当に楽しかったです。

KASLIN FIELDS: こちらこそ、ありがとうございました。
