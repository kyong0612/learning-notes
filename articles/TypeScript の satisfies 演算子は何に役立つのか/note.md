# TypeScript の satisfies 演算子は何に役立つのか

ref: <https://9sako6.com/posts/why-typescript-satisfies-operator>

- TypeScript 4.9 で導入された satisfies 演算子は、式が指定された型に一致するかどうかを確認するために使用されます。
- satisfies を使用すると、オブジェクトリテラルの型推論を保持でき、型情報を失うことなく、より正確な型チェックを行うことができます。
- この演算子は、オブジェクトのキーが事前に定義された集合に準拠していることを確認するのに役立ち、キーが欠落または余分な場合にはタイプエラーを生成します。
- 型注釈でもプロパティキーをチェックできますが、satisfies を使うことで推論された型を維持し、コードの可読性と使いやすさを向上させることができます。
- 例では、satisfies を使うことで配列要素の型を維持できるのに対し、型注釈では unknown になる可能性があることを示しています。
- この演算子は、Zod のようなランタイムバリデーターなど、より広い型を受け入れる関数にオブジェクトリテラルを渡す際に有効です。
- これにより、スキーマレスデータベースに保存されたオブジェクトリテラルの型チェックが可能になり、データの整合性を確保できます。
- satisfies を使うことで、複雑な構造体における型定義の明確性が向上し、期待される型をすぐに理解できるようになります。
- この演算子は、プロパティ値のタイプミスを検出しつつ、値の union を定義する意図を保持することができます。
- VSCode の Prettify TypeScript 拡張機能を使うと、推論された型の表示が改善され、開発者がコードを理解しやすくなります。
