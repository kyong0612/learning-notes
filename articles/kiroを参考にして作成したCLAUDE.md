---
title: "kiroを参考にして作成したCLAUDE.md"
source: "https://izanami.dev/post/11c5067c-d2f9-4945-8944-0d1c20c1263d"
author:
  - "ROU"
published: 2025-07-19
created: 2025-07-22
description: "AmazonのAIエディタ「kiro」を参考に、AIの過剰な実装や暴走を防ぐためのシンプルな4段階フロープロセスを定義した`CLAUDE.md`の提案。"
tags:
  - "AI Coding"
  - "Claude Code"
  - "Vibe Coding"
  - "AI Agent"
---

この記事では、AIによるコーディング時の過剰な機能実装や手戻りを防ぐため、AmazonのAIエディタ「kiro」に実装されているプロセスを参考にした `CLAUDE.md` のルールを提案しています。

## AIの暴走を防ぐ4段階フロー

AIに「売上データを分析して」と指示した際に、不要なグラフ生成や機械学習モデルの構築まで行ってしまうといった「AIの暴走」を防ぐため、以下のシンプルな4段階のプロセスを導入します。

1. **要件定義**
2. **設計**
3. **タスク化**
4. **実行**

このプロセスを導入することで、AIは指示された分析のみを実行し、各段階で人間の確認を求めるようになり、処理の流れが明確になるという利点があります。

## `CLAUDE.md` の内容

プロジェクトのルートに以下の内容で `CLAUDE.md` を作成することで、このプロセスを導入できます。

```markdown
## タスク実行の4段階フロー

### 1. 要件定義

- \`.claude_workflow/complete.md\`が存在すれば参照

- 目的の明確化、現状把握、成功基準の設定

- \`.claude_workflow/requirements.md\`に文書化

- **必須確認**: 「要件定義フェーズが完了しました。設計フェーズに進んでよろしいですか？」

### 2. 設計

- **必ず\`.claude_workflow/requirements.md\`を読み込んでから開始**

- アプローチ検討、実施手順決定、問題点の特定

- \`.claude_workflow/design.md\`に文書化

- **必須確認**: 「設計フェーズが完了しました。タスク化フェーズに進んでよろしいですか？」

### 3. タスク化

- **必ず\`.claude_workflow/design.md\`を読み込んでから開始**

- タスクを実行可能な単位に分解、優先順位設定

- \`.claude_workflow/tasks.md\`に文書化

- **必須確認**: 「タスク化フェーズが完了しました。実行フェーズに進んでよろしいですか？」

### 4. 実行

- **必ず\`.claude_workflow/tasks.md\`を読み込んでから開始**

- タスクを順次実行、進捗を\`.claude_workflow/tasks.md\`に更新

- 各タスク完了時に報告

## 実行ルール

### ファイル操作

- 新規タスク開始時: 既存ファイルの**内容を全て削除して白紙から書き直す**

- ファイル編集前に必ず現在の内容を確認

### フェーズ管理

- 各段階開始時: 「前段階のmdファイルを読み込みました」と報告

- 各段階の最後に、期待通りの結果になっているか確認

- 要件定義なしにいきなり実装を始めない

### 実行方針

- 段階的に進める: 一度に全てを変更せず、小さな変更を積み重ねる

- 複数のタスクを同時並行で進めない

- エラーは解決してから次へ進む

- エラーを無視して次のステップに進まない

- 指示にない機能を勝手に追加しない
```

## 補足

- この `CLAUDE.md` は、詳細なルールを設けるよりもシンプルで、AIがルールを破ることが少ないと筆者は述べています。
- `complete.md` は、完了したタスクを記録するために使用します。これは、各ワークフローのmdファイルが新しいタスクの開始時に上書きされるため、進捗を別途記録する目的です。
