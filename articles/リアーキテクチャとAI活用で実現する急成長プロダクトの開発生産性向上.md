---
title: "リアーキテクチャとAI活用で実現する急成長プロダクトの開発生産性向上"
source: "https://speakerdeck.com/soarteclab/riakitekutiyatoaihuo-yong-deshi-xian-suruji-cheng-chang-purodakutonokai-fa-sheng-chan-xing-xiang-shang"
author:
  - "Shodai Suzuki"
published: 2025-07-03
created: 2025-07-06
description: |
  MOSH社における、事業の急成長と外部環境の変化に対応するための開発組織とシステムアーキテクチャの変革について解説した資料。AIを活用した生産性向上と、その限界を超えるための「限界生産性」向上の取り組みとして、組織の自律駆動化、新旧システムを共存させる段階的なリアーキテクチャ、スキーマ駆動開発などを紹介している。
tags:
  - "開発生産性"
  - "リアーキテクチャ"
  - "技術的負債"
  - "AI"
  - "開発組織"
  - "BFF"
  - "スキーマ駆動開発"
---

本資料は、MOSH社が事業の急成長と外部環境（クリエイターエコノミー市場の発展、生成AIの進化など）の変化に迅速に対応するため、いかにして開発生産性を向上させたかを解説したものです。

## 1. 背景と課題

### 1.1. MOSHのビジネスと成長

* **ビジネス**: クリエイター向けのオールインワンプロダクトを提供。
* **成長**: 2年連続で300%の事業成長を達成。
* **外部環境**: クリエイター個人の生産性向上やAIの進化により、迅速な市場投入能力が競争的優位に直結する状況。

### 1.2. 過去の技術的課題

かつての開発現場は、以下のような課題を抱えていました。

* 低凝集・高結合なソースコード
* 信頼性の低いAPI定義 (OpenAPI)
* 1時間かかる不安定な手動デプロイ
* 400を超えるLambdaのメンテナンスコスト
これらの問題により、**外部環境の変化に対するソフトウェアの適応速度が鈍化**していました。

## 2. 生産性と限界生産性のジレンマ

本資料では、「生産性」と「限界生産性」という2つの概念を用いて課題を分析しています。

* **生産性**: 労働者一人当たりの平均生産量。
* **限界生産性**: 労働者が一人増えることで生じる追加的な貢献（顧客への価値提供）。

### 2.1. AIと「Vibe Coding (70% Problem)」

AIの活用（軽微なバグ修正、プロトタイピング等）により、開発の初期段階（目標の70%まで）の**生産性は劇的に向上**しました。これは「Vibe Coding」とも呼ばれ、驚くほど高速に実装が進みます。

しかし、ソフトウェアを本番で利用可能にし、保守性・堅牢性を確保する**最後の30%は、依然として真のソフトウェアエンジニアリング知識が必要**であり、ここの生産性向上は実感できていませんでした。

### 2.2. 制約条件の理論

AIによってコードの生産量が増えても、**限界生産性は比例して向上しません**。これは「制約条件の理論」におけるボトルネックに例えられます。

* **スループット**: 販売を通じてお金を生み出す割合（コードをデリバリーする品質管理に相当）。
* **ボトルネック**: 「エンジニアリング知識が必要な30%」（ドメイン理解、設計、コードレビューなど）。

生産量が激増すると、このボトルネック部分の品質が低下し、結果としてスループット（顧客への価値提供）が低下するリスクが生まれます。

### 2.3. 課題の再整理

1. **適応速度の鈍化**: 外部環境の変化にソフトウェアが追いつけない。
2. **限界生産性の頭打ち**: AIで向上した生産性と、ボトルネックに依存する限界生産性との間に乖離が生じている。

## 3. 解決策：組織とシステムのリアーキテクチャ

これらの課題を解決するため、組織とシステムの両面からアプローチしました。

### 3.1. 組織アーキテクチャ

**目的**: スループットを上げるための自律駆動した開発チームの構築。

* **フルサイクル開発**: Netflixの事例を参考に、開発者が運用まで責任を持つ体制。
* **小さなチーム (3-5人)**: 全員が開発に向き合い、顧客と直接関わることで適応速度を維持。
* **開発ユニット + 横断チーム**: 機能開発を行う自律的なユニットと、それを支えるプロダクティビティチームを設置。

### 3.2. システムアーキテクチャ

**目的**: ソフトウェアエンジニアリングの複雑性を低減し、限界生産性を向上させる。
**方針**:

* フロントエンドとバックエンドの段階的なリアーキテクチャ。
* 新旧アプリケーションの共存。
* 影響範囲の限定と高速な検証サイクルを実現するガードレールの設置。

#### フロントエンド

ゼロベースで技術選定し、React + React Router (File-based) へ移行。

* **UIコンポーネント**: `shadcn/ui` を採用。Headless UIにより高速な構築と将来の最適化の余地を両立。
* **スキーマ駆動開発**: OpenAPI定義から`Orval`を用いてAPIクライアント、zodスキーマ、mswモックを自動生成し、クライアント・サーバー間の不整合を撲滅。
* **影響範囲の限定**: ページ・機能単位のコンポーネント構成により、開発者が機能開発に集中できる環境を構築。

#### バックエンド (旧システム)

「全てをモダン化しない」方針で、段階的な移行を目指す。

* **CI/CDの改善**: GitHub Actionsでデプロイを自動化し、デプロイ時間を大幅に短縮。
* **移植性の向上 (Lambda-lith)**: 400超のLambdaを、FastAPIを載せた単一のDockerイメージに集約。これにより移植性を高め、将来的なECS/EKSへの移行パスを確保。

#### BFF (Backend For Frontend)

フロントエンドと旧バックエンド（リソースサーバーとして位置づけ）の間にBFFを配置。

* **目的**:
  * 旧バックエンドに対する腐敗防止層。
  * OpenAPIによる型安全な通信の担保。
  * 段階的なリファクタリングの促進。
  * プロトタイピングのスピードと品質向上。

## 4. 成果と今後の課題

### 4.1. 成果

* **プロトタイピングの品質とスピード向上**: BFFアーキテクチャにより実現。
* **デプロイ数9倍**: CI/CD改善とアーキテクチャ刷新による効果。
* **パフォーマンスとコストの改善**

### 4.2. 今後の課題

* **技術の複雑性**:
  * UIコンポーネントのプロダクト最適化（デザインシステム構築）。
  * 新旧技術スタックの乖離による学習コストや認知負荷。

## 5. まとめ

事業の急成長と環境変化に対し、**AI活用による「生産性」向上**と、**組織・システムのリアーキテクチャによる「限界生産性」向上**を両輪で進めることが重要です。この取り組みにより、迅速に市場へ価値を投入できる能力（競争的優位）の獲得に貢献していると結論づけています。
