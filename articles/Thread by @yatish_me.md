---
title: "Thread by @yatish_me"
source: "https://x.com/yatish_me/status/1977521025983324491?s=12"
author:
  - "Yatish Mehta"
published: 2025-10-12
created: 2025-10-18
description: |
  元Amazon出身のシニアエンジニアリングリーダーシップがRuby on RailsモノリスをGoマイクロサービスメッシュに移行しようとした失敗事例。5年後も70%がモノリスのまま残り、2つのシステムを維持する必要が生じた。マイクロサービスは技術的な問題ではなく、組織的な問題の解決策であることを示す典型的な事例。
tags:
  - "clippings"
  - "microservices"
  - "architecture"
  - "software-engineering"
  - "monolith"
  - "organizational-design"
  - "technical-debt"
---

## 要約

### 核心となる失敗事例

Yatish Mehtaが共有した事例は、過度に複雑なマイクロサービスアーキテクチャへの移行の典型的な失敗パターンを示しています。

**状況:**

- 企業にはRuby on Railsモノリシックアプリケーションが存在
- エンジニアリング責任者とプリンシパルエンジニアがGoマイクロサービスメッシュへの移行を決定
- 詳細な設計ドキュメントとアーキテクチャ図を作成
- Kubernetes、gRPC、サービステンプレートなど、フルスタックの技術を導入

**背景:**

- シニアエンジニアリングリーダーシップの全員がAmazon出身
- 各チームが独自のサービスを所有するAmazonのモデルを直接適用しようとした
- **しかし実際の問題は**：コード所有権と不適切なドメインモデリングにあった
- アプリケーション全体は数台のEC2インスタンスで十分に稼働できた

**結果:**

- **5年後、アプリケーションの70%が依然としてRuby on Railsモノリス上で稼働**
- マイグレーションは完了せず
- 現在、2つのシステムを維持する必要がある
- 元のリーダーシップは誰も在籍していない

### コミュニティからの重要な洞察

このスレッドには業界の専門家から多くの反応が寄せられ、重要な教訓が共有されました：

**1. マイクロサービスの本質（Tobi Lutke, Shopify創業者）:**
> 「マイクロサービスは政治的な問題の解決策であり、技術的な問題の解決策ではない」

**2. 組織的問題 vs 技術的問題（David Mytton）:**

- マイクロサービスとメッシュは組織的問題を解決し、技術的問題を引き起こす
- ほとんどの場合、正しい選択ではない

**3. 規模に合わない複雑さ（Jyotsna Gupta）:**

- エンジニアが実際の問題を解決する代わりに、雇用を確保するために仕事を作り出すことがある
- **「Job security as a service」**
- FAANG規模のニーズがないのにFAANGスタイルのシステムを採用するチームが多い
- **複雑さは追加しやすいが、削除するのは難しい**

**4. サードパーティサービスの罠（Damian Legawiec）:**

- 「composable」「best of breed」などの美辞麗句のもと、サードパーティの認証、検索などのサービスを追加
- 結果として、すべてが超複雑になり、開発が遅くなる

**5. キャリアインセンティブの問題（Ankit Jain & Yatish Mehta）:**

- 質問：「なぜプロダクトやビジネス側のリーダーシップがこれを許してしまうのか？」
- 回答：「昇進するにはどうすればいい？」
- 複雑なプロジェクトが昇進のための実績として利用される構造的問題

### 主要な教訓

1. **技術選択は実際の問題に基づくべき**
   - コード所有権やドメインモデリングの問題は、アーキテクチャの変更では解決できない
   - 問題の根本原因を特定してから解決策を選択する

2. **規模に応じた設計**
   - 数台のEC2インスタンスで稼働できるアプリケーションに、Kubernetesやマイクロサービスメッシュは過剰
   - FAANG規模でない場合、FAANGパターンは適用できない

3. **完全な移行か、移行しないか**
   - 不完全な移行は最悪のシナリオ：2つのシステムを維持する必要がある
   - 移行は完了する確実性がなければ開始すべきではない

4. **組織的インセンティブの整合**
   - エンジニアが複雑さを追加することで昇進する文化は危険
   - 簡素化と実用性を評価する必要がある

5. **技術負債の長期的影響**
   - 誤った技術決定は、年単位で影響を及ぼす
   - オリジナルのリーダーが去った後も、チームは結果に対処し続ける

### 結論

この事例は、技術的な洗練さが必ずしもビジネス価値につながらないことを示しています。多くの場合、シンプルで理解しやすいアーキテクチャが、複雑で「モダン」なソリューションよりも優れた選択肢です。技術選択は、流行やキャリアの野心ではなく、実際のビジネスニーズと組織の規模に基づくべきです。
