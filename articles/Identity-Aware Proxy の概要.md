---
title: "Identity-Aware Proxy の概要"
source: "https://cloud.google.com/iap/docs/concepts-overview?hl=ja#cloud-run"
author:
  - "[[Google Cloud]]"
published:
created: 2025-09-21
description: "Google CloudのIdentity-Aware Proxy（IAP）に関する公式ドキュメント。ユーザーのIDとコンテキストに基づいてアプリケーションや仮想マシンへのアクセスを保護し、ゼロトラストセキュリティモデルを実現するグローバルサービスの概要と機能を解説。"
tags:
  - "clippings"
  - "Google Cloud"
  - "Identity-Aware Proxy"
  - "IAP"
  - "セキュリティ"
  - "アクセス制御"
  - "ゼロトラスト"
  - "Cloud Run"
---

## Identity-Aware Proxy（IAP）の概要

Identity-Aware Proxy（IAP）は、Google Cloudが提供するグローバルサービスで、HTTPSでアクセスされるアプリケーションに対して一元的な承認レイヤを確立します。ユーザーのIDとコンテキストに基づいてアプリケーションや仮想マシン（VM）へのアクセスを保護し、ネットワークレベルのファイアウォールに依存せず、アプリケーションレベルでのアクセス制御を実現します。

## 主な特徴

### 一元化されたアクセス制御
- ウェブアプリケーションとクラウドリソースへのアクセスを単一のコントロールポイントから管理
- 組織全体でアクセスポリシーを一元的に定義し、すべてのアプリケーションやリソースに適用
- 誤ったポリシーの定義や実装からプロジェクトを保護

### クラウドおよびオンプレミスとの連携
- Google Cloud上のリソースだけでなく、他のクラウドやオンプレミスでホストされているアプリケーションへのアクセスも保護
- HTTPSエンドポイントを持つあらゆるアプリケーションに適用可能

### VMの保護
- TCP転送により、Google CloudでホストされるVMへのSSHおよびRDPアクセスを保護
- VMインスタンスにパブリックIPアドレスが不要となり、セキュリティを向上

### VPN不要のリモートアクセス
- エンドユーザーは、ウェブブラウザからインターネットで接続可能なURLにアクセスするだけで保護されたアプリケーションに接続
- VPNクライアントは不要で、信頼できないネットワークから安全に作業が可能
- ゼロトラストのアクセスモデルを実装

## 主な利点

### クラウド管理の簡素化
- VPNを実装する場合よりも短時間でアプリへのアクセスを保護
- 認証や認可はIAPに任せて、開発者はアプリケーションロジックに専念可能

### リモートユーザーの利便性
- VPNクライアント不要でブラウザからのアクセスが可能
- シンプルなユーザーエクスペリエンス

### セキュリティの強化
- ユーザーID、デバイスのセキュリティステータス、IPアドレスなどの属性に基づくきめ細かなアクセス制御ポリシー
- 多要素認証（MFA）との統合でセキュリティをさらに強化

## 使用例

### アプリケーションアクセス制御
- 署名付きヘッダーやApp Engineスタンダード環境のUsers APIと連携してアプリを保護
- グループベースのアプリケーションアクセスを設定
  - 従業員にはアクセスを許可し、請負業者には許可しない
  - 特定の部門のみがアクセスできるように設定

### Cloud Runとの統合
- Cloud Runでロードバランサを使用せずにIAPを構成
- HTTPSエンドポイントに対する認証・認可機能を提供
- スケーラブルなサーバーレスアプリケーションのセキュリティを向上

## 料金

### 無料機能
- Google Cloudでホストされるリソースやアプリケーションへのアクセス保護の多くの機能が無料
- ネットワーキングとコンピューティングの料金が、必要な負荷分散に適用

### 有料機能（BeyondCorp Enterprise）
- 非Google Cloudリソースのプロキシ
- IAPのカスタマイズ
- アクセスレベルでのデバイス属性の使用

## 制限事項と考慮事項

### セキュリティ範囲の制限
- IAPはリソースまでの接続許可と通信を保護
- **重要**: リソース内のセキュリティやプロジェクト内の他のVMなど、プロジェクト内のアクティビティは防御対象外
- 各リソース内やリソース間のセキュリティ設計が別途必要

### Compute EngineやContainer Engineでの注意点
- 仮想マシン（VM）のアプリケーション処理ポートに直接アクセスできるユーザーがIAPの認証をバイパスする可能性
- ファイアウォール設定やネットワーク構成への注意が必要

## まとめ

Identity-Aware Proxy（IAP）は、ゼロトラストセキュリティモデルを実現する強力なツールであり、以下の価値を提供します：

- **一元的管理**: 組織全体のアクセスポリシーの統一的な管理
- **柔軟性**: クラウド、オンプレミス問わずアプリケーションを保護
- **利便性**: VPN不要でのセキュアなリモートアクセス
- **コスト効率**: 多くの機能が無料で利用可能

ただし、全体的なセキュリティ戦略の一部としてIAPを活用し、リソース内部のセキュリティ設計についても十分に検討することが重要です。
