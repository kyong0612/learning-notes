---
title: "〜『世界中の家族のこころのインフラ』を目指して”次の10年”へ〜 SREが導いたグローバルサービスの信頼性向上戦略とその舞台裏 / Towards the Next Decade: Enhancing Global Service Reliability"
source: "https://speakerdeck.com/kohbis/towards-the-next-decade-enhancing-global-service-reliability-through-sre"
author:
  - "kohbis"
published: 2025-07-11
created: 2025-08-13
description: |
  株式会社MIXIが提供する『家族アルバム みてね』のグローバル展開において、SREチームが直面した課題と、サービスの信頼性を向上させるために実施した段階的な技術戦略（マルチリージョン化、パフォーマンス改善、コスト最適化など）を解説するプレゼンテーション。
tags:
  - "SRE"
  - "AWS"
  - "Multi-Region"
  - "GlobalService"
  - "MIXI"
---

# 『家族アルバム みてね』のグローバル信頼性向上戦略

本資料は、株式会社MIXIのSRE、杉本浩平氏（@kohbis）によるSRE NEXT 2025での発表です。『家族アルバム みてね』がグローバルサービスとして成長する過程で、SREチームがどのようにサービスの信頼性を向上させてきたか、その戦略と技術的取り組みについて詳述しています。

## 1. 『家族アルバム みてね』の概要とミッション

* **サービス**: スマートフォンで撮影した子どもの写真や動画を家族間で共有するアルバムサービス。
* **実績**: 2015年4月のリリースから10周年。7言語・175の国と地域で提供され、2025年1月には利用者数2,500万人を突破。
* **ミッション**: **「世界中の家族のこころのインフラをつくる」**
  * **"世界中の家族"**: グローバルで快適なユーザー体験。
  * **"こころのインフラ"**: 思い出をいつでも振り返られる安定性。

![©MIXI 4 『家族アルバム みてね』について](https://files.speakerdeck.com/presentations/96db9ec5444d47c98db2241d517f673e/slide_3.jpg)

## 2. グローバル展開における課題

2017年の本格的な海外展開以降、北米・欧州ユーザーが増加する中で、インフラの地理的な問題が顕在化しました。

* **根本原因**: サービス開始当初からAWSの東京リージョン（ap-northeast-1）のみで運用。
* **課題**: 海外ユーザーとの物理的な距離が、APIのレイテンシーや画面表示速度の悪化に直結。
  * 「アルバムの表示が遅い」
  * 「写真・動画のアップロードが遅い」
  * 「画面がカクついて見える」
* **影響**: ユーザー体験とサービス信頼性を損ない、事業的なスケールを阻害する要因となっていました。

![10 ©MIXI 海外ユーザー増加に伴う課題 地理的な問題がユーザー体験に直結 ● みてねはサ...](https://files.speakerdeck.com/presentations/96db9ec5444d47c98db2241d517f673e/slide_9.jpg)

## 3. ユーザー体験向上のための段階的取り組み (2018年〜)

2018年2月にSREチームが発足し、海外ユーザー体験の改善に本格的に着手しました。

### 3.1. 画像・動画のダウンロード高速化

* **改善前**: リクエストのたびに署名付きURLを都度発行しており、東京リージョンへのAPIリクエストが頻発。
* **改善後**: 署名付きURLを事前に一括発行し、クライアントサイドでキャッシュ。有効期限切れの場合のみ再発行する仕組みに変更。

### 3.2. 画像・動画のアップロード高速化

* **改善前**: 米国ユーザーは米国リージョンのS3にアップロード後、東京リージョンへクロスリージョンレプリケーション（CRR）していたが、遅延が発生。
* **改善後**: **Amazon S3 Transfer Acceleration**を導入。クライアントとS3間の長距離転送をAWSの最適化された通信経路で高速化し、CRRが不要になりました。

### 3.3. API全体のレイテンシー改善

* **改善前**: ユーザーリクエストを直接ALBにルーティング。
* **改善後**: フロントに**CloudFront**を導入。ユーザーに最も近いエッジロケーションでSSL/TLS接続を確立し、AWSの最適化されたネットワーク経由で東京リージョンへリクエストを転送することで、API全体のレイテンシーを大幅に改善。

## 4. マルチリージョン構成への移行 (2022年〜)

段階的な改善を経て、さらなるユーザー体験向上を目指し、2022年6月からマルチリージョン構成への移行プロジェクトを開始しました。

### 4.1. 移行の背景

* 海外ユーザーの割合が30%以上に増加し、事業的な期待が高まった。
* EKSへの移行など、インフラ基盤が整備され、移行の実現性が高まった。

### 4.2. 方針とスコープ

* **セカンダリリージョン**: ユーザー比率の大きい米国と欧州をカバーできる**バージニア北部リージョン（us-east-1）**を選定。
* **スコープ**: まずは閲覧体験の改善に注力するため、セカンダリリージョンは**「読み取り」のみを最適化するリードレプリカ構成**としました。

![24 ©MIXI 最終的なアーキテクチャ（2022年10⽉当時）詳細は後出](https://files.speakerdeck.com/presentations/96db9ec5444d47c98db2241d517f673e/slide_23.jpg)

### 4.3. 移行プロセスと技術的課題

#### データベースのクロスリージョンレプリケーション

* **解決策**: **Amazon Aurora Global Database**を活用し、ストレージベースの物理レプリケーション（通常1秒未満）を実現。
* **課題**: 当初利用していたRDS ProxyがGlobal Databaseに未対応だったため、アプリケーションをチューニングしてRDS Proxyへの依存を解消。結果的にパフォーマンス改善とコスト削減も達成。

#### APIリクエストのリージョン振り分け

* **解決策**: **CloudFront Functions**と**Route 53 Latency-based routing**を組み合わせ、ユーザーのHTTPメソッド（読み取り/書き込み）とレイテンシーに応じて最適なリージョンへリクエストを振り分ける仕組みを構築。
* **結果**: **海外からのAPIリクエストレイテンシーが半減**し、日本国内と遜色ない速度を実現。

![35 ©MIXI 海外からのAPIリクエストレイテンシーは半減＆⽇本と遜⾊ない速さに](https://files.speakerdeck.com/presentations/96db9ec5444d47c98db2241d517f673e/slide_34.jpg)

## 5. 持続可能なサービス運用とコスト最適化

マルチリージョン化に伴うコスト増に対し、継続的なコスト最適化を実施。

* **リージョン間転送コスト**: コンテナイメージなどを各リージョンに保存（double-write）することで、高額なリージョン間転送を回避。
* **インスタンスコスト**: 負荷の低いセカンダリリージョンでは、より小さなインスタンスサイズを選択。
* **その他**: S3ストレージクラスの最適化、GravitonやKarpenterの導入によるコンピューティングコスト削減、Aurora I/O-Optimizedの活用など。

## 6. まとめと今後の課題

* **成果**: 段階的なインフラ改善とマルチリージョン化により、「いつでもどこでもアルバムを快適に閲覧できる」ユーザー体験を実現。
* **今後の課題**:
  * **書き込み（アップロード）のレイテンシー**: マルチライター構成の実現。
  * **データベースのスケール限界**: さらなるスケーラビリティの確保。
  * **グローバルなメンテナンス**: 24時間稼働するサービスにおけるメンテナンスタイミングの確保。

![43 ©MIXI みてね’s SRE NEXT 現在の構成における課題 ● 「書き込み」にかか...](https://files.speakerdeck.com/presentations/96db9ec5444d47c98db2241d517f673e/slide_42.jpg)

---

MIXIでは、この「世界中の家族のこころのインフラ」を共に創り上げていく仲間を募集しています。
[WE ARE HIRING!!!](https://team.mitene.us)
