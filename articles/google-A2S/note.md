# google/A2A

ref: <https://github.com/google/A2A>

## 概要

Google A2A（Agent2Agent）は、異なるAIエージェント間の相互運用性とコミュニケーションを実現するためのオープンプロトコルです。企業AI導入における主な課題である、異なるフレームワークやベンダーで構築されたエージェント間の連携を解決するために設計されています。

## 主要な特徴

- **エージェントカード**: エージェントの能力、スキル、エンドポイントURLなどを記述したメタデータファイル（通常は`/.well-known/agent.json`に配置）
- **タスク管理**: JSON-RPCベースの標準化されたタスク実行管理
- **ストリーミング**: 長時間実行タスク向けのServer-Sent Events（SSE）によるリアルタイム更新
- **プッシュ通知**: Webhook通知による非同期タスク更新
- **マルチモーダル**: テキスト、オーディオ、ビデオなど様々なモダリティに対応
- **セキュリティ**: エンタープライズグレードの認証と認可をサポート

## 技術的な構成要素

1. **A2Aサーバー**: プロトコルメソッドを実装するHTTPエンドポイントを公開するエージェント
2. **A2Aクライアント**: A2Aサービスを利用するアプリケーションまたは別のエージェント
3. **タスク**: 作業の中心単位（submitted, working, input-required, completed, failed, canceledなどの状態遷移）
4. **メッセージ**: クライアントとエージェント間の通信ターン（role: "user"/"agent"）
5. **パート**: メッセージやアーティファクト内の基本コンテンツ単位（TextPart, FilePart, DataPart）
6. **アーティファクト**: エージェントによって生成された出力

## 典型的なフロー

1. **発見**: クライアントがサーバーのAgentCardを取得
2. **開始**: クライアントが`tasks/send`または`tasks/sendSubscribe`リクエストを送信
3. **処理**:
   - ストリーミング: サーバーがSSEイベントを送信
   - 非ストリーミング: サーバーが同期的に処理し、最終的なTaskオブジェクトを返す
4. **対話**: 必要に応じてタスクが`input-required`状態になり、クライアントが追加メッセージを送信
5. **完了**: タスクが最終状態（completed, failed, canceled）に達する

## サンプル実装

リポジトリには様々な実装例が含まれています：

- LangGraphを使用した通貨変換エージェント
- PythonとJavaScriptのクライアント/サーバー実装
- CrewAI、GenKitなどとの統合例
- マルチエージェントウェブアプリケーション
- CLIツール

## A2AとMCPの関係

GoogleはA2AをAnthropicのModel Context Protocol（MCP）を補完するものとして位置づけています：

- **MCP**: モデルがツールやデータソースにアクセスするためのプロトコル
- **A2A**: エージェント間のコミュニケーションに特化したプロトコル

実際には両者は市場シェアとエコシステムの採用を巡って競合する可能性があります。

## 今後の展望

- エージェント発見機構の強化（AgentCardへの認証スキームの組み込み）
- エージェント間協力のためのQuerySkillメソッドの導入
- タスク内でのUX再交渉サポート（会話中のオーディオ/ビデオ追加など）
- クライアント主導のメソッドサポート拡張
- サンプルとドキュメントの充実
