---
title: "Claude CodeのPlanモードで実装した後、そのまま質問しまくってるやついる？いねえよな！"
source: "https://zenn.dev/take4/articles/b7fad1a0c52481"
author:
  - "[[たけし]]"
  - "[[Zenn]]"
published: 2026-01-27
created: 2026-02-03
description: "Claude Codeで計画→実装後に質問を重ねるとコンテキストが埋まりパフォーマンスが低下する問題を解説。/rewindや/forkコマンドを活用して不要な会話履歴をクリアにし、効率的に作業を続ける方法を紹介。"
tags:
  - "clippings"
  - "Claude Code"
  - "AI"
  - "Tips"
  - "コンテキスト管理"
  - "開発効率化"
---

## 概要

Claude CodeのPlanモードで実装を完了した後、生成されたコードについて質問を繰り返すと、コンテキストウィンドウが不要な情報で埋まり、パフォーマンスが低下する問題がある。この記事では `/rewind` や `/fork` コマンドを活用して、コンテキストをクリーンに保ちながら効率的に作業を続ける方法を紹介している。

## 問題点：コンテキストの肥大化

### 典型的な問題パターン

1. **Planモード**で計画を立てて実装させる
2. コードを読んで「この関数、何やってるんやろう？」と質問
3. 答えを聞いて「じゃあなぜこの実装にした？」「他のパターンは？」と深掘り（"パワハラ質問タイム"）
4. 理解した後「ここ修正して」と本筋に戻る

このフローでは、質問タイムで調べた**本筋とは関係のない膨大な情報**がコンテキストに残ったまま作業を続けることになる。

### 公式ドキュメントの指摘

> "Claude's context window fills up fast, and performance degrades as it fills."

コンテキストが埋まるにつれて性能が落ちるため、**無駄な情報はない方が望ましい**。質問のやり取りがノイズとなり、本筋の作業に悪影響を与える。

## 解決策：/rewind と /fork コマンド

### /rewind コマンド

過去の状態に戻るコマンド。

**起動方法:**
- `Esc` キーを2回押す
- `/rewind` と入力

**オプション:**

| オプション | 説明 |
|------------|------|
| **Conversation only** | 会話だけ戻す（コードはそのまま） |
| **Code only** | コードだけ戻す（会話はそのまま） |
| **Both** | 両方戻す |

### /fork コマンド

元のセッションを引き継いで、新しいセッションを作成するコマンド。

**使い方:**
- `/fork` と入力
- `/fork hoge` で名前付きで新しいセッションを開く

## 実践的な活用例

### パターン1：質問後に /rewind で戻る

**シナリオ:** 認証機能の実装が完了後、コードの設計について質問したい場合

1. 生成されたコードを見て「ここの設計、なんでこうなってるんやろう」と質問
2. 「そもそも、JWTの検証ロジックとは何？」と派生
3. 「他のパターンだとどうなる？」と深掘り
4. 理解できたら、**本筋に戻る前に `/rewind`**
5. パワハラ質問タイムのやり取りをなかったことにして、テストコード作成などを依頼

**Tips:** `/rename` で元のセッションに「認証機能の実装」のような分かりやすい名前をつけておくのがおすすめ。

### パターン2：/fork で分岐する

**シナリオ:** 質問しながら、別ターミナルで追加指示も並行して進めたい場合

1. `/fork hoge` で新しいセッションを開く
2. 新セッションで好きなだけ質問する
3. 元のセッションでは本筋の作業を続ける

**セッション再開方法:**
```bash
claude -r 元のセッションID
```

## コメント欄からの補足情報

### 効果的な運用パターン

**パターンA: /rewind + 要約方式**
1. `/rewind` 直前までのやり取りで得た方針を自分でまとめる（またはClaude Codeにまとめてもらう）
2. `/rewind` を実行
3. まとめた要約を伝えて作業を再開

**パターンB: /fork + 要約方式**
1. 分岐の会話をする前に `/fork` してやり取り
2. 要約をまとめたらセッションを終了
3. `claude -r 元のセッションID` でメインのセッションを再開
4. 要約を伝えて作業を続行

## まとめ

- Claude Codeでの質問は本筋の作業に悪影響を与えるノイズになりうる
- **パワハラ質問タイム**の後は、そのまま本筋に戻らない
- **`/rewind`** でなかったことにしてからタスクを再開する
- 並行作業が必要な場合は **`/fork`** で分岐する
- 質問から得た知見は**要約してから**本筋に伝えるのが効果的
