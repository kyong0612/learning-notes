---
title: "Agent SkillsとEvalによる属人化解消"
source: "https://x.com/gunta85/status/2002967854082351358?s=12"
author:
  - "Günther | グンタ (@gunta85)"
published: 2025-12-22
created: 2025-12-23
description: |
  Agent Skillsによって組織の「属人化」問題が解消できる時代が到来した。エンジニアの暗黙知をエージェントが実行可能な形式で記述することで、組織の資産化が可能に。ただし、Skillsの品質保証にはEvalsが必要であり、GEPAとCAPEという2つの研究がその解決策として注目されている。
tags:
  - "AI"
  - "Agent Skills"
  - "Claude Code"
  - "Evals"
  - "GEPA"
  - "CAPE"
  - "DSPy"
  - "プロンプト最適化"
---

## 概要

Agent Skillsによって「属人化」問題が解消できる時代になった。優秀なエンジニアの頭の中にしかなかったノウハウを、エージェントが実行できる形式で記述することで、書いた瞬間から組織の資産になる。

## Agent Skillsの現状

### 採用状況

以下のツールが既にAgent Skillsを採用し、標準フォーマットになっている：

- Cursor
- Claude Code
- GitHub Copilot
- Codex

### 課題

Skillsの書き方はまだ発展途上にある。

Anthropicの公式ベストプラクティスでは、テスト方法について「2つのClaude Codeインスタンスを用意して、最低3つのシナリオで検証する」と記載されている。考え方は正しいが：

- 具体的な評価基準が提示されていない
- 自動化の方法が明確でない
- Skillが期待通りに動いているかを定量的に測る仕組みが未確立

組織の資産として蓄積するなら、品質保証の仕組みが必要である。

## 注目すべき2つの研究

### 1. GEPA（Genetic-Pareto）

DSPyの公式オプティマイザーとして統合されている。

#### 従来の手法との違い

- 従来のプロンプト最適化は試行錯誤の繰り返し
- GEPAは自然言語によるリフレクションを使用
- エージェントの実行ログ、ツール出力、エラーメッセージをテキストとして分析
- 何が問題だったかを言語化してから改善案を生成

#### 成果

- 強化学習ベースの手法と比較して**35分の1のロールアウト**で**10〜20%高い性能**を達成
- Skillsの指示文を自動で進化させる仕組みとして活用可能

### 2. CAPE（Capability Achievement via Policy Execution）

Superficial Labsが発表した研究。GEPAとは根本的に異なるアプローチ。

#### レイヤーの違い

- GEPAがプロンプトレイヤーで最適化
- CAPEは一段深いレイヤーで動作

#### 核心概念：検証可能な述語

Skillの曖昧な指示を、機械的にチェック可能な条件に変換する。

#### 例：PDF処理のSkill

「pdfplumberでテキストを抽出する」という指示を以下の述語に変換：

- PDFヘッダーで始まるか
- パーサーが成功するか
- フォームフィールドの不一致がゼロか

全て推論時に自動でチェック可能。違反があれば検出・修正され、その修正結果が次の学習データになる。

#### 主観的要件の客観化例

「AIっぽいデザインを避ける」という曖昧な指示も、文脈を固定すれば客観的条件に分解可能：

- border-radiusのバリエーションが3種類以上あるか
- 色数が4〜12の範囲か
- フォントファミリーが3つ以下か
- コントラスト比が4.5以上か

#### 重要な発見

CAPEの研究では、**デプロイ時の問題の89%が客観的に検証可能**だったと報告されている。

#### 公開リソース

Superficial LabsはAnthropicの公式16 SkillsをすべてCAPE仕様に変換して公開。どのSkillがどの述語に対応するか、仮定は何か、すべて文書化されている。

## GEPAとCAPEの補完関係

両者は競合ではなく**補完関係**にある：

1. GEPAはプロンプトを進化させる
2. 進化の良し悪しを判定する関数が必要
3. CAPEのポリシーをGEPAの検証関数として使用可能
4. プロンプト最適化を客観的な基準で評価できる

レイヤーが違うだけで、同じ問題を解いている。

## 実装の選択肢

| 選択肢        | 説明                                                                                                                     |
| ------------- | ------------------------------------------------------------------------------------------------------------------------ |
| DSPy (Python) | `dspy.GEPA` として公式サポート                                                                                           |
| Ax            | TypeScript向けの選択肢                                                                                                   |
| modaic        | Claude Code特化。DSPyスキャフォールドを公開。MCPサーバー連携、ツール実行、フックまでフル機能をDSPyのシグネチャで扱える |

## 結論

### Skillsの位置づけ

Skillsは属人化を解消する最良の手段になりつつある。

### 重要な警告

> テストのないコードが負債になるように、Evalsのないスキルも負債になりうる

### 推奨アプローチ

1. GEPAでSkillsを自動改善する
2. CAPEで検証可能な仕様に変換する

### 今後の展望

- 書き方の標準化はこれから
- 今のうちにEvalsの設計パターンを押さえておくと、後で差がつく

## 引用元

このツイートは以下のツイートへの返信として投稿された：

> @gota_bara: 「Agent Skills、Eval周りが超課題やなー」

## 統計情報

- 投稿日時: 2025年12月22日 14:02
- 閲覧数: 139.1K
- リプライ: 3
- リポスト: 65
- いいね: 577
- ブックマーク: 635
