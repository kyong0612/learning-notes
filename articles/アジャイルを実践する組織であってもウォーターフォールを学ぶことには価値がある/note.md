# アジャイルを実践する組織であってもウォーターフォールを学ぶことには価値がある

ref: <https://mtx2s.hatenablog.com/entry/2024/11/11/204512>

![alt text](<assets/CleanShot 2024-11-13 at 17.30.55@2x.png>)

- 「すべてのライフサイクルモデルの祖は、ウォーターフォールモデルである」
  - どんなソフトウェア開発プロセスモデルであろうと、ウォーターフォールから派生したり、何らかの影響を受けていると考えられる

## ソフトウェア危機とボトムアップ・アプローチ

- ソフトウェア危機
  - 拡大し続けるソフトウェアの需要に対し、まだまだ未熟な分野であったソフトウェア開発の生産性が追いつかなかった
  - 次のような症状として現れる
    - 品質が低い
    - 予算を超過する
    - 納期に遅れる/納品に至らない
    - 要求仕様を満たさない
    - コードの保守が困難
    - プロジェクトがコントロール不能に陥る

## ボトムアップ・アプローチからトップダウン・アプローチへ

- それまでのボトムアップ・アプローチよりトップダウン・アプローチの方が優れている、1970年前後の開発現場の多くでそう結論付けられた
  - 彼らが「トップダウン・アプローチ」と呼んだソフトウェア開発は、システム全体の要件定義から始め、段階的に詳細化していくもの
  - 各フェーズの成果物はドキュメントとしてアウトプットされ、次のフェーズのインプットとなる
![alt text](<assets/CleanShot 2024-11-13 at 17.36.23@2x.png>)

- フェーズは次のように分けられている
  - 1. システム要件
  - 2. ソフトウェア要件
  - 3. 予備設計と詳細設計
  - 4. 実装とデバック
  - 5. 開発テスト
  - 6. 公式テスト
  - 7. 運用と保守
- このアプローチが優れているとされたのは、はじめに全体像を描き、何をどう作るかについて、順を追って明らかにしようとする点

## トップダウン・アプローチを説明するためのウォーターフォールという概念

- トップダウン・アプローチは、開発活動をウォーターフォール（滝）にたとえることでシンプルに説明できる
  - れを図として示したのが、ウィンストン・W・ロイス（Winston W. Royce）による1970年の論文だった
  
![alt text](<assets/CleanShot 2024-11-13 at 17.39.15@2x.png>)

## 誤った理解に基づくウォーターフォール

- 1996年に出版された書籍『Rapid Development』の中で、マコネルがウォーターフォールの特徴を説明している
  - 一般的なウォーターフォールの理解
    - 段階的進行: ソフトウェアコンセプトからシステムテストまで、各フェーズを順番に進める
    - フェーズ完結型: 現フェーズのすべてのタスクが完了したとみなされるまで、次フェーズに進めない
    - ドキュメント駆動: 各フェーズのアウトプットはドキュメントであり、それが次フェーズのインプットとして引き継がれる
    - ドキュメントによる進捗管理: ドキュメントが全体の進捗を示す指標として機能する
    - 人員が不連続: フェーズごとに担当者が異なり、プロセス全体を通して人員の連続性がない（ドキュメントによってそれを繋いでいる）
- ウォーターフォール適しているプロジェクト
  - 要件が安定しているプロジェクト: プロジェクトの初期段階で要件が明確で変わることが少ないのであれば、計画的に進められる
  - 既存システムのメンテナンスリリースプロジェクト: 既存システムの改修であれば、不確実性が低く、要件のぬけもれなどによる手戻りが生じにくい
  - 別のプラットフォームへの移行プロジェクト: 既存システムを別のプラットフォームに移行する場合、要件が明確であるため、比較的に計画通り進めやすい
  - よく理解している技術的方法論を利用するプロジェクト: チームが十分に理解している技術や手法を用いるプロジェクトでは、比較的に精度の高い計画と設計で進められる
  - よく理解しているが複雑なプロジェクト: 複雑であっても要件が明確であるなら、その複雑性をフェーズごとに段階的に詳細化して進められる
  - 未熟なメンバーがいるプロジェクト: 技術的に弱いスタッフや経験の浅いスタッフがいても、明確なフェーズと手順により、メンバーが作業しやすくなる
  - 品質が最優先のプロジェクト: 品質が優先されるのであれば、コストや納期を超過しても、フェーズごとに十分な品質を担保しながら進められる
- マーチンは、当時を振り返り、ウォーターフォールをはじめて目にした時に、「天の恵み」だと感じたと言う
  - **しかし、実践したものの、このようなウォーターフォールはうまくいかなかったようだ**

## ウォーターフォールの手戻り問題

- ウォーターフォールの代表的な問題点の1つは、下流のフェーズから上流のフェーズへの手戻りリスクが大きくなること

## 本来想定されていたウォーターフォール（ロイスのソフトウェア開発モデル）

- 前節の問題に対して、ロイスは論文内で5つの対策を提案している。これが、本来、彼が提示していたソフトウェア開発モデルだ

1. プログラム設計を先に実施する: 分析に先だってプログラム設計者が予備的なプログラム設計を行い、その結果を分析に対する技術的制約として分析者に引き継ぐ
2. 設計をドキュメント化する: ソフトウェアの管理は、非常に高度なドキュメントなしには不可能であり、徹底したドキュメント化が重要。それを関係者や顧客とのコミュニケーションの基盤とし、エビデンスとして利用する。納品時は、予備設計に関するドキュメント以外はすべて最新の状態にすること
3. 2回実施する（do it twice）: 要件が固まった段階でパイロットプロジェクトを走らせ、初期バージョンのシステムを作って潜在的な問題を洗い出す。顧客に引き渡すシステムは、その結果を反映して開発したバージョンとする
テストを計画、管理、監視する: 1~3までで品質を十分に確保したうえで、テストの専門家による網羅的で明確な基準を持ったテストを計画・実施し、その進捗を管理する
4. 顧客を巻き込む: ソフトウェア設計で何をやるかは事前の合意後も解釈に幅があるため、最終的な納品前の早い段階で顧客がコミットするよう、彼らを巻き込むことが重要である

> ウォーターフォールが対象とするプロジェクトは、計画通りにソフトウェアシステムを作り上げれば、それが誰かの価値になる場合ということになる。逆に、アジャイルソフトウェア開発が対象とするのは、計画通りに作り上げても、それが誰の価値にもならないかもしれないことを前提としている。ここが大きく違うのだ。

> プロジェクトの性質によって開発プロセスを使い分けるべきとは言うが、それはなかなかに難しい。同じ組織が、複数の開発プロセスを起用に使い分け、使いこなすことなど本当に可能なのだろうか。1つの開発プロセスでさえ、なじませ、改善を重ねることに苦労する。結局のところ、なにか1つに定めて、それを組織の目的に合わせて調整し、改良し続けるのが一番なのではないだろうか。
